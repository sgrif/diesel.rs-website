<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Changelog | DIESEL</title><link rel="canonical" href="https://diesel.rs/changelog/3/"/><link rel="sitemap" href="/sitemap-index.xml"/><link rel="shortcut icon" href="/public/images/diesel_logo_favicon_32.png" type="image/png"/><meta name="generator" content="Astro v5.16.11"/><meta name="generator" content="Starlight v0.37.3"/><meta property="og:title" content="Changelog"/><meta property="og:type" content="article"/><meta property="og:url" content="https://diesel.rs/changelog/3/"/><meta property="og:locale" content="en"/><meta property="og:site_name" content="DIESEL"/><meta name="twitter:card" content="summary_large_image"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template> <script>
	// Set dark theme as default on initial load
	if (!localStorage.getItem('starlight-theme')) {
		document.documentElement.dataset.theme = 'dark';
		localStorage.setItem('starlight-theme', 'dark');
	}
</script><link rel="stylesheet" href="/_astro/print.DNXP8c50.css" media="print"><link rel="stylesheet" href="/_astro/index.CuDomZ0o.css">
<style>a:where(.astro-rvq5mvj3){text-decoration:none}h2:where(.astro-rvq5mvj3) .sl-badge{font-size:var(--sl-text-sm);overflow-wrap:anywhere}time:where(.astro-rvq5mvj3){color:var(--sl-color-text);font-size:var(--sl-text-sm)}form:where(.astro-3hot6j75){position:relative}.sl-changelogs-version-list-icon:where(.astro-3hot6j75){inset-block:50%;inset-inline-start:.625rem;position:absolute;transform:translateY(-50%)}input:where(.astro-3hot6j75){background-color:var(--sl-color-black);background-color:var(--sl-color-gray-7, var(--sl-color-gray-6));border:1px solid var(--sl-color-gray-5);border-radius:.375rem;color:var(--sl-color-white);font-size:var(--sl-text-sm);height:2.5rem;line-height:1rem;padding-inline:2rem .5rem;width:100%}input:where(.astro-3hot6j75)::placeholder{color:var(--sl-color-gray-2)}.links:where(.astro-ummqa5ku){flex-wrap:wrap;gap:.75rem;margin-block-start:1rem}.links:where(.astro-ummqa5ku) a{font-size:var(--sl-text-sm);margin-block:0;margin-inline-end:0;padding:.4375rem 1.125rem}.links:where(.astro-ummqa5ku) a:not(:is(:hover,:focus)){color:var(--sl-color-text)}a:where(.astro-ummqa5ku).compare svg{transform:rotate(135deg)}
@layer starlight.components{:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-avdet4wd){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-avdet4wd){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-avdet4wd){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-avdet4wd){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-avdet4wd){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-avdet4wd){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-avdet4wd){vertical-align:middle}}
@layer starlight.components{.card-grid:where(.astro-zntqmydn){display:grid;grid-template-columns:100%;gap:1rem}.card-grid:where(.astro-zntqmydn)>*{margin-top:0!important}@media(min-width:50rem){.card-grid:where(.astro-zntqmydn){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-zntqmydn){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-zntqmydn)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}}
@layer starlight.components{svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}}
@layer starlight.components{starlight-tabs:where(.astro-esqgolmp){display:block}.tablist-wrapper:where(.astro-esqgolmp){overflow-x:auto}:where(.astro-esqgolmp)[role=tablist]{display:flex;list-style:none;border-bottom:2px solid var(--sl-color-gray-5);padding:0}.tab:where(.astro-esqgolmp){display:flex}.tab:where(.astro-esqgolmp)>:where(.astro-esqgolmp)[role=tab]{--sl-tab-color-border: var(--sl-color-gray-5);display:flex;align-items:center;gap:.5rem;line-height:var(--sl-line-height-headings);padding:.275rem 1.25rem;text-decoration:none;box-shadow:0 2px 0 var(--sl-tab-color-border);color:var(--sl-color-gray-3);outline-offset:var(--sl-outline-offset-inside);overflow-wrap:initial}.tab:where(.astro-esqgolmp) :where(.astro-esqgolmp)[role=tab][aria-selected=true]{--sl-tab-color-border: var(--sl-color-text-accent);color:var(--sl-color-white);font-weight:600}.tablist-wrapper:where(.astro-esqgolmp)~[role=tabpanel]{margin-top:1rem}}
@layer starlight.components{.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}}@layer starlight.content{.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}}
@layer starlight.components{.sl-link-button:where(.astro-xwgiixxa){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-xwgiixxa).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-xwgiixxa).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-xwgiixxa) svg{flex-shrink:0}@media(min-width:50rem){.sl-link-button:where(.astro-xwgiixxa){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa):not(:where(p *)){margin-block:1rem}}
</style><script type="module" src="/_astro/page.B1D-nYk3.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <img class="astro-m46x6ez3" alt src="/_astro/diesel_logo_favicon.BcNj_PV4.png" width="192" height="192">  <span class="astro-m46x6ez3" translate="no"> DIESEL </span> </a>  </div> <div class="sl-flex print:hidden astro-kmkmnagf"> <site-search class="astro-kmkmnagf astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.cjYDvRdi.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <div class="header-links"> <a href="/news">News</a> <a href="/guides">Guides</a> <a href="/api_docs">API Docs</a> <a href="/changelog">Changelog</a> </div> <a href="https://github.com/diesel-rs/diesel" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="open-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="1bz4ry6" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Guides to Diesel</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/getting-started/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Getting Started</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/all-about-selects/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">All About Selects</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/all-about-updates/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">All About Updates</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/all-about-inserts/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">All About Inserts</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/relations/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Relations</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/composing-applications/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Composing Applications with Diesel</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/schema-in-depth/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Schema in Depth</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/extending-diesel/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Extending Diesel</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/configuring-diesel-cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Configuring Diesel CLI</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/migration-guide/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Diesel 2.0 migration guide</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">News</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/news/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">News</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/news/2_3_0_release" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Diesel 2.3.0</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/news/2_2_0_release" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Diesel 2.2.0</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/news/2_1_0_release" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Diesel 2.1.0</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/news/2_0_0_release" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Diesel 2.0.0</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">API Docs</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/api_docs/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">API Documentation</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <a href="/changelog/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">Changelog</span>  </a> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Compare Diesel</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/compare/compare_diesel/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Compare Diesel</span>  </a> </li> </ul>  </details> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="social-icons astro-wu23bvmt"> <div class="header-links"> <a href="/news">News</a> <a href="/guides">Guides</a> <a href="/api_docs">API Docs</a> <a href="/changelog">Changelog</a> </div> <a href="https://github.com/diesel-rs/diesel" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <script type="module" src="/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script><script type="module" src="/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script><div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><span class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></span><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-5" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.5</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-1" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.1</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-derives-2-0-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel-derives 2.0.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.2</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-5" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.5</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-1" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.1</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-derives-2-0-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel-derives 2.0.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.2</span> </a>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body class="astro-bguv2lll" lang="en" dir="ltr">   <script type="module">customElements.define("starlight-changelogs-versions-list",class extends HTMLElement{constructor(){super();const n=this.querySelector("input"),e=this.querySelector("datalist");!n||!e||n.addEventListener("input",t=>{if(t.target instanceof HTMLInputElement&&(t instanceof InputEvent&&t.inputType==="insertReplacementText"||!(t instanceof InputEvent))){const o=t.target.value,i=Array.from(e.options).find(r=>r.value===o);if(!i)return;const s=i.dataset.link;s&&(window.location.pathname=s)}})}});</script> <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">Changelog</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content">  <div class="not-content astro-ummqa5ku"> <starlight-changelogs-versions-list class="astro-3hot6j75"> <form onsubmit="return false" class="astro-3hot6j75"> <label class="sr-only astro-3hot6j75" for="find-version">Find a version</label> <svg aria-hidden="true" class="sl-changelogs-version-list-icon astro-3hot6j75 astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <input autocomplete="off" id="find-version" list="starlight-changelogs-versions" placeholder="Find a version" type="text" required class="astro-3hot6j75"> <datalist id="starlight-changelogs-versions" class="astro-3hot6j75"> <option data-link="/changelog/version/diesel-2-3-6/" value="Diesel 2.3.6" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-3-5/" value="Diesel 2.3.5" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-3-4/" value="Diesel 2.3.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-3-3/" value="Diesel 2.3.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-3-2/" value="Diesel 2.3.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-3-0/" value="Diesel 2.3.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-12/" value="Diesel 2.2.12" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-11/" value="Diesel 2.2.11" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-10/" value="Diesel 2.2.10" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-9/" value="Diesel 2.2.9" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-8/" value="Diesel 2.2.8" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-7/" value="Diesel 2.2.7" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-6/" value="Diesel 2.2.6" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-5/" value="Diesel 2.2.5" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-4/" value="Diesel 2.2.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-3/" value="Diesel 2.2.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-2/" value="Diesel 2.2.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-1/" value="Diesel 2.2.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-0/" value="Diesel 2.2.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-6/" value="Diesel 2.1.6" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-5/" value="Diesel 2.1.5" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-4/" value="Diesel 2.1.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-3/" value="Diesel 2.1.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-2/" value="Diesel 2.1.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-1/" value="Diesel 2.1.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-0/" value="Diesel 2.1.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-0-4/" value="Diesel 2.0.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-derives-2-0-2/" value="Diesel-derives 2.0.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-0-3/" value="Diesel 2.0.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-0-2/" value="Diesel 2.0.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-0-1/" value="Diesel 2.0.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-0-0/" value="Diesel 2.0.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-8/" value="1.4.8" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-7/" value="1.4.7" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-6/" value="1.4.6" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-5/" value="1.4.5" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-4/" value="1.4.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-3/" value="1.4.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/v1-4-0/" value="v1.4.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-3-3/" value="1.3.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-3-2/" value="1.3.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/v1-3-0/" value="v1.3.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-2-0/" value="1.2.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-1-1/" value="1.1.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-1-0/" value="1.1.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-0-0/" value="1.0.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-0-0-rc1/" value="1.0.0-rc1" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-0-0-beta-1/" value="1.0.0 Beta 1" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-99-0-its-basically-1-0-except-its-not/" value="v0.99.0 (It's basically 1.0 except it's not)" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-16-0/" value="v0.16.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-15-2/" value="v0.15.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-15-0/" value="v0.15.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-14-1/" value="v0.14.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-13-1/" value="v0.13.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-14-0-the-one-with-all-the-joins/" value="v0.14.0 (The one with all the joins)" class="astro-3hot6j75"></option><option data-link="/changelog/version/0-13-0/" value="0.13.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-12-0/" value="v0.12.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-11-4/" value="v0.11.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-11-3/" value="v0.11.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-11-2/" value="v0.11.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-11-1/" value="v0.11.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-11-0-the-one-where-we-support-mysql/" value="v0.11.0 (The one where we support MySQL)" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-10-1/" value="v0.10.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/the-one-where-we-work-on-stable/" value="The one where we work on stable" class="astro-3hot6j75"></option><option data-link="/changelog/version/" value class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-9-0/" value="v0.9.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-8-0/" value="v0.8.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-7-2/" value="v0.7.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-7-1/" value="v0.7.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-7-0/" value="v0.7.0" class="astro-3hot6j75"></option> </datalist> </form> </starlight-changelogs-versions-list>    </div>   <h2 id="diesel-2-1-5" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-5/" class="astro-rvq5mvj3">Diesel 2.1.5</a> </h2> <time datetime="2024-03-15T09:37:34.000Z" class="astro-rvq5mvj3">Mar 15, 2024</time>  <ul>
<li>Fix <code>impl SqlOrd</code> postgres > postgres_backend feature flag.</li>
<li>Allow <code>Queryable</code> to be used with multiple table names.</li>
<li>Update <code>libsqlite3-sys</code> to allow version 0.28 as well</li>
</ul>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.1.4...v2.1.5" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.1.4…v2.1.5</a></p>  <h2 id="diesel-2-1-4" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-4/" class="astro-rvq5mvj3">Diesel 2.1.4</a> </h2> <time datetime="2023-11-14T15:04:43.000Z" class="astro-rvq5mvj3">Nov 14, 2023</time>  <ul>
<li>Update <code>libsqlite3-sys</code> to allow version 0.27 as well</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github.</p>  <h2 id="diesel-2-1-3" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-3/" class="astro-rvq5mvj3">Diesel 2.1.3</a> </h2> <time datetime="2023-10-05T15:13:09.000Z" class="astro-rvq5mvj3">Oct 5, 2023</time>  <ul>
<li>Increased accidentally decreased limit around element count in  <code>DISTINCT ON</code> and <code>ORDER BY</code> clauses again as that broke existing code</li>
</ul>  <h2 id="diesel-2-1-2" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-2/" class="astro-rvq5mvj3">Diesel 2.1.2</a> </h2> <time datetime="2023-09-25T17:53:30.000Z" class="astro-rvq5mvj3">Sep 25, 2023</time>  <ul>
<li>Fixed another potential breaking chaneg around queries containing <code>DISTINCT ON</code> and <code>ORDER BY</code> clauses consisting of custom sql expressions (e.g. <code>.nullable()</code>)</li>
<li>Fixed an issue where <code>#[derive(Selectable)]</code> and <code>#[diesel(check_for_backend)]</code> generates invalid rust code if the struct contains lifetimes/generic types</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github.</p>  <h2 id="diesel-2-1-1" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-1/" class="astro-rvq5mvj3">Diesel 2.1.1</a> </h2> <time datetime="2023-08-25T07:19:43.000Z" class="astro-rvq5mvj3">Aug 25, 2023</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Fixed an issue in diesel-cli that lead to using unquoted table names in one of the internal queries</li>
<li>Fixed a bug in <code>diesel print-schema</code> that lead to generating invalid <code>table!</code> macros if both the <code>#[sql_name]</code> and the <code>#[max_lenght]</code> attribute are present</li>
<li>Fixed an issue in diesel-cli that lead to ignoring certain foreign key constraints for postgresql</li>
<li>Fixed an crash while using <code>diesel print-schema</code> with really old sqlite versions</li>
<li>Fixed an issue where <code>#[diesel(check_for_backend)]</code> ignored <code>#[diesel(deserialize_as)]</code> attributes</li>
<li>Fixed several issues with the new <code>#[derive(MultiConnection)]</code> feature</li>
<li>Fixed some edge cases in our sqlite timestamp parsing behaviour</li>
<li><code>diesel migration generate --diff-schema</code> now respects table filters as setup for <code>print-schema</code> via <code>diesel.toml</code></li>
<li>Fixed a potential breaking change around queries containing <code>DISTINCT ON</code> and <code>ORDER BY</code> clauses consisting of custom sql expressions (e.g. <code>diesel::dsl::sql</code>)</li>
</ul>
<h2 id="added">Added</h2>
<ul>
<li>Support for bigdecimal 0.4</li>
</ul>
<p>You can support the development of diesel by <a href="https://github.com/diesel-rs/diesel" rel="nofollow noopener noreferrer" target="_blank">sponsoring the project on github</a></p>  <h2 id="diesel-2-1-0" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-0/" class="astro-rvq5mvj3">Diesel 2.1.0</a> </h2> <time datetime="2023-05-26T08:46:08.000Z" class="astro-rvq5mvj3">May 26, 2023</time>  <p>Diesel 2.1.0 contains the contributions of 42 people. More than 380 commits were submitted
over a span of 9 months.</p>
<p>This release contains several new features and improves existing features. It introduces support for generating migrations based on the diff between your <code>schema.rs</code> file and your database via Diesel CLI. Diesel derives now provides a <code>#[derive(MultiConnection)]</code> derive macro that allows to easily combine different database connections into a single enum, which implements <code>Connection</code> on its own. The MySQL backend gets support for <code>upsert</code> queries via the <code>ON DUPLICATE KEYS</code> syntax. Finally we provide new tooling to improve complex error messages generated for common error cases. Check out our <a href="/changelog.html">changelog for a complete list of changes</a>.</p>
<p>This release wouldn’t be possible without the support of our contributors and sponsors. If you want to support diesels development, consider <a href="https://github.com/diesel-rs/diesel/issues?q=reviewer+is%3Aopen" rel="nofollow noopener noreferrer" target="_blank">joining the reviewer team</a>, submitting <a href="https://github.com/diesel-rs/diesel/issues?q=is%3Aissue+is%3Aopen++label%3A%22help+wanted%22+" rel="nofollow noopener noreferrer" target="_blank">PR’s</a>, help writing documentation or <a href="https://github.com/sponsors/weiznich" rel="nofollow noopener noreferrer" target="_blank">sponsor the maintainers</a>.</p>
<h2 id="migration-generation">Migration generation</h2>
<p>Diesel CLI now includes support for generating migrations based on the difference of your <code>schema.rs</code> file and your local database.
This works as following:</p>
<ol>
<li>Start editing your <code>schema.rs</code> file, for example by adding your first table:</li>
</ol>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.0vx5m.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#82AAFF;--1:#3B61B0">table!</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> Integer,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> Text,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="diesel::table! {    users {        id -> Integer,        name -> Text,    }}"><div></div></button></div></figure></div>
<ol start="2">
<li>Run <code>diesel migration generate my_first_migration --diff-schema --database-url DATABASE_URL</code></li>
<li>Checkout, verify and possible modify the generated migration:</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="sql"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">-- Your SQL goes here</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">CREATE</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">TABLE</span><span style="--0:#D6DEEB;--1:#403F53"> `</span><span style="--0:#82AAFF;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53">`(</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D9F5DD;--1:#111111">`</span><span style="--0:#ECC48D;--1:#984E4D">id</span><span style="--0:#D9F5DD;--1:#111111">`</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">INTEGER</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">NOT NULL</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">PRIMARY KEY</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D9F5DD;--1:#111111">`</span><span style="--0:#ECC48D;--1:#984E4D">name</span><span style="--0:#D9F5DD;--1:#111111">`</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">TEXT</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">NOT NULL</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="-- Your SQL goes hereCREATE TABLE &#x60;users&#x60;(  &#x60;id&#x60; INTEGER NOT NULL PRIMARY KEY,  &#x60;name&#x60; TEXT NOT NULL);"><div></div></button></div></figure></div>
<ol start="4">
<li>Run the migration via <code>diesel migration run --database-url DATABASE_URL</code></li>
</ol>
<p>It’s important to note that the generated migrations can only contain information that are part of the <code>schema.rs</code> file. This explicitly excludes default value, custom check constraints and similar SQL features. We expect the generated migrations to be a good starting point for writing the actual migration you need, we do not expect them to include all necessary information in all cases or to provide the perfect solution in each scenario.</p>
<h2 id="multiconnection-support"><code>MultiConnection</code> support</h2>
<p>Diesel now includes a <a href="https://docs.diesel.rs/2.1.x/diesel/derive.MultiConnection.html" rel="nofollow noopener noreferrer" target="_blank"><code>#[derive(MultiConnection)]</code></a> proc macro derive, which allows to easily support more than one database backend in a single application. It can be applied to an enum of different connections:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[derive(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">MultiConnection)]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">pub</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">enum</span><span style="--0:#D6DEEB;--1:#403F53"> AnyConnection {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">Postgresql</span><span style="--0:#D6DEEB;--1:#403F53">(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">PgConnection),</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">Mysql</span><span style="--0:#D6DEEB;--1:#403F53">(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">MysqlConnection),</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">Sqlite</span><span style="--0:#D6DEEB;--1:#403F53">(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">SqliteConnection),</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#[derive(diesel::MultiConnection)]pub enum AnyConnection {    Postgresql(diesel::PgConnection),    Mysql(diesel::MysqlConnection),    Sqlite(diesel::SqliteConnection),}"><div></div></button></div></figure></div>
<p>Afterwards the <code>AnyConnection</code> type can be used as ordinary connection:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">fn</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">use_multi</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">&#x26;</span><span style="--0:#C792EA;--1:#8844AE">mut</span><span style="--0:#D6DEEB;--1:#403F53"> AnyConnection) </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> QueryResult&#x3C;()> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">   </span><span style="--0:#919F9F;--1:#5D6376">// Use the connection enum as any other connection type</span></div></div><div class="ec-line"><div class="code"><span class="indent">   </span><span style="--0:#919F9F;--1:#5D6376">// for inserting/updating/loading/…</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">   </span></span><span style="--0:#D6DEEB;--1:#403F53">diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#82AAFF;--1:#3B61B0">insert_into</span><span style="--0:#D6DEEB;--1:#403F53">(users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">       </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">values</span><span style="--0:#D6DEEB;--1:#403F53">(users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">eq</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Sean</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">))</span></div></div><div class="ec-line"><div class="code"><span class="indent">       </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">execute</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">   </span><span style="--0:#C792EA;--1:#8844AE">let</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">load</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">&#x3C;(i32, String)>(</span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">   </span></span><span style="--0:#D6DEEB;--1:#403F53">Ok(())</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="fn use_multi(conn: &#x26;mut AnyConnection) -> QueryResult<()> {   // Use the connection enum as any other connection type   // for inserting/updating/loading/…   diesel::insert_into(users::table)       .values(users::name.eq(&#x22;Sean&#x22;))       .execute(conn)?;   let users = users::table.load::<(i32, String)>(conn)?;   Ok(())}"><div></div></button></div></figure></div>
<p>By default this connection type will only support a subset of SQL that’s supported by all inner connection types. By being an enum it’s easy to fallback to backend specific SQL as soon as required. We provide this feature as derive macro so that it is possible to:</p>
<ul>
<li>Select the backends you actually use</li>
<li>Allow to use third party connections as well (this requires the third party connection to be based at least on diesel 2.1 and to implement the <a href="https://docs.diesel.rs/2.1.x/diesel/connection/trait.MultiConnectionHelper.html" rel="nofollow noopener noreferrer" target="_blank"><code>MultiConnectionHelper</code></a> trait in addition to the existing <code>Connection</code> trait.</li>
</ul>
<h2 id="upsert-support-for-the-mysql-backend">Upsert support for the MySQL backend</h2>
<p>Diesel 2.1 adds support for <code>INSERT INTO … ON DUPLICATE KEYS …</code> queries for the MySQL backend using the existing <a href="https://docs.diesel.rs/2.1.x/diesel/query_builder/struct.InsertStatement.html#on-duplicate-key" rel="nofollow noopener noreferrer" target="_blank"><code>upsert</code></a> framework. It’s now possible to write such queries using the diesel provided DSL:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#82AAFF;--1:#3B61B0">insert_into</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">values</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">&#x26;</span><span style="--0:#C5E478;--1:#3B61B0">user2</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">on_conflict</span><span style="--0:#D6DEEB;--1:#403F53">(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">dsl</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">DuplicatedKeys)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">do_update</span><span style="--0:#D6DEEB;--1:#403F53">()</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">set</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">eq</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">I DONT KNOW ANYMORE</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">))</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">execute</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="diesel::insert_into(users)    .values(&#x26;user2)    .on_conflict(diesel::dsl::DuplicatedKeys)    .do_update()    .set(name.eq(&#x22;I DONT KNOW ANYMORE&#x22;))    .execute(conn)?;"><div></div></button></div></figure></div>
<h2 id="improved-error-messages">Improved error messages</h2>
<p>We spend some effort to improve error messages generated by rustc for common diesel issues further.</p>
<p>Consider the following example:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">table!</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> Integer,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> Text,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[derive(Queryable)]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">struct</span><span style="--0:#D6DEEB;--1:#403F53"> User {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> String,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">load</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">&#x3C;User>(</span><span style="--0:#7FDBCA;--1:#096E72">&#x26;</span><span style="--0:#C792EA;--1:#8844AE">mut</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="table! {    users {        id -> Integer,        name -> Text,    }}#[derive(Queryable)]struct User {    name: String,    id: i32,}users::table.load::<User>(&#x26;mut conn)"><div></div></button></div></figure></div>
<p>which would generate the following error message:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">error[E0277]: the trait bound `(diesel::sql_types::Integer, diesel::sql_types::Text): load_dsl::private::CompatibleType&#x3C;User, Mysql>` is not satisfied</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">--> src/main.rs:20:31</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">20   |     users::table.load::&#x3C;User>(&#x26;mut conn);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                  ----         ^^^^^^^^^ the trait `load_dsl::private::CompatibleType&#x3C;User, Mysql>` is not implemented for `(diesel::sql_types::Integer, diesel::sql_types::Text)`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                  |</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                  required by a bound introduced by this call</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">= help: the following other types implement trait `load_dsl::private::CompatibleType&#x3C;U, DB>`:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3, ST4)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3, ST4, ST5)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3, ST4, ST5, ST6)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3, ST4, ST5, ST6, ST7)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3, ST4, ST5, ST6, ST7, ST8)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">             </span></span><span style="--0:#d6deeb;--1:#403f53">and 24 others</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">= note: required for `users::table` to implement `LoadQuery&#x3C;'_, _, User>`</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">note: required by a bound in `diesel::RunQueryDsl::load`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">--> /home/weiznich/.cargo/git/checkouts/diesel-6e3331fb3b9331ec/ef6252e/diesel/src/query_dsl/mod.rs:1543:15</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">1543 |         Self: LoadQuery&#x3C;'query, Conn, U>,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|               ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `diesel::RunQueryDsl::load`</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="error[E0277]: the trait bound &#x60;(diesel::sql_types::Integer, diesel::sql_types::Text): load_dsl::private::CompatibleType<User, Mysql>&#x60; is not satisfied    --> src/main.rs:20:31     |20   |     users::table.load::<User>(&#x26;mut conn);     |                  ----         ^^^^^^^^^ the trait &#x60;load_dsl::private::CompatibleType<User, Mysql>&#x60; is not implemented for &#x60;(diesel::sql_types::Integer, diesel::sql_types::Text)&#x60;     |                  |     |                  required by a bound introduced by this call     |     = help: the following other types implement trait &#x60;load_dsl::private::CompatibleType<U, DB>&#x60;:               (ST0, ST1)               (ST0, ST1, ST2)               (ST0, ST1, ST2, ST3)               (ST0, ST1, ST2, ST3, ST4)               (ST0, ST1, ST2, ST3, ST4, ST5)               (ST0, ST1, ST2, ST3, ST4, ST5, ST6)               (ST0, ST1, ST2, ST3, ST4, ST5, ST6, ST7)               (ST0, ST1, ST2, ST3, ST4, ST5, ST6, ST7, ST8)             and 24 others     = note: required for &#x60;users::table&#x60; to implement &#x60;LoadQuery<&#x27;_, _, User>&#x60;note: required by a bound in &#x60;diesel::RunQueryDsl::load&#x60;    --> /home/weiznich/.cargo/git/checkouts/diesel-6e3331fb3b9331ec/ef6252e/diesel/src/query_dsl/mod.rs:1543:15     |1543 |         Self: LoadQuery<&#x27;query, Conn, U>,     |               ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in &#x60;diesel::RunQueryDsl::load&#x60;"><div></div></button></div></figure></div>
<p>This is caused by an field order mismatch between what your query returns and what your struct expects the query to return.</p>
<p>With diesel 2.0 we introduced the <code>Selectable</code> trait and a corresponding derive. That allows to automatically generate a matching select clause to prevent such issues from happening. While this already solved parts of the problem it does not solve the following case:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[derive(Queryable, Selectable)]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">struct</span><span style="--0:#D6DEEB;--1:#403F53"> User {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">select</span><span style="--0:#D6DEEB;--1:#403F53">(User</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#82AAFF;--1:#3B61B0">as_select</span><span style="--0:#D6DEEB;--1:#403F53">())</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">load</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">&#x26;</span><span style="--0:#C792EA;--1:#8844AE">mut</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#[derive(Queryable, Selectable)]struct User {    name: i32,    id: i32,}users::table.select(User::as_select()).load(&#x26;mut conn);"><div></div></button></div></figure></div>
<p>which generates the following error message:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">error[E0277]: the trait bound `expression::select_by::SelectBy&#x3C;User, _>: load_dsl::private::CompatibleType&#x3C;_, _>` is not satisfied</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">--> src/main.rs:20:49</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">20   |     users::table.select(User::as_select()).load(&#x26;mut conn);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                                            ---- ^^^^^^^^^ the trait `load_dsl::private::CompatibleType&#x3C;_, _>` is not implemented for `expression::select_by::SelectBy&#x3C;User, _>`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                                            |</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                                            required by a bound introduced by this call</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">= help: the trait `load_dsl::private::CompatibleType&#x3C;U, DB>` is implemented for `expression::select_by::SelectBy&#x3C;U, DB>`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">= note: required for `SelectStatement&#x3C;FromClause&#x3C;users::table>, query_builder::select_clause::SelectClause&#x3C;expression::select_by::SelectBy&#x3C;User, _>>>` to implement `LoadQuery&#x3C;'_, _, _>`</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">note: required by a bound in `diesel::RunQueryDsl::load`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">--> /home/weiznich/.cargo/git/checkouts/diesel-6e3331fb3b9331ec/ef6252e/diesel/src/query_dsl/mod.rs:1543:15</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">1543 |         Self: LoadQuery&#x3C;'query, Conn, U>,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|               ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `diesel::RunQueryDsl::load`</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="error[E0277]: the trait bound &#x60;expression::select_by::SelectBy<User, _>: load_dsl::private::CompatibleType<_, _>&#x60; is not satisfied    --> src/main.rs:20:49     |20   |     users::table.select(User::as_select()).load(&#x26;mut conn);     |                                            ---- ^^^^^^^^^ the trait &#x60;load_dsl::private::CompatibleType<_, _>&#x60; is not implemented for &#x60;expression::select_by::SelectBy<User, _>&#x60;     |                                            |     |                                            required by a bound introduced by this call     |     = help: the trait &#x60;load_dsl::private::CompatibleType<U, DB>&#x60; is implemented for &#x60;expression::select_by::SelectBy<U, DB>&#x60;     = note: required for &#x60;SelectStatement<FromClause<users::table>, query_builder::select_clause::SelectClause<expression::select_by::SelectBy<User, _>>>&#x60; to implement &#x60;LoadQuery<&#x27;_, _, _>&#x60;note: required by a bound in &#x60;diesel::RunQueryDsl::load&#x60;    --> /home/weiznich/.cargo/git/checkouts/diesel-6e3331fb3b9331ec/ef6252e/diesel/src/query_dsl/mod.rs:1543:15     |1543 |         Self: LoadQuery<&#x27;query, Conn, U>,     |               ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in &#x60;diesel::RunQueryDsl::load&#x60;"><div></div></button></div></figure></div>
<p>This is caused by a type mismatch in the <code>name</code> field. With diesel 2.1 we now introduce an additional <a href="https://docs.diesel.rs/2.1.x/diesel/expression/derive.Selectable.html#optional-type-attributes" rel="nofollow noopener noreferrer" target="_blank"><code>#[diesel(check_for_backend(diesel::backend::BackendType))]</code></a> attribute that greatly improves the error messages generated for these cases. This helps pining down which field exactly causes a type mismatch.</p>
<p>By applying this attribute to our example:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[derive(Queryable, Selectable)]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[diesel(check_for_backend(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">mysql</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">Mysql))]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">struct</span><span style="--0:#D6DEEB;--1:#403F53"> User {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#[derive(Queryable, Selectable)]#[diesel(check_for_backend(diesel::mysql::Mysql))]struct User {    name: i32,    id: i32,}"><div></div></button></div></figure></div>
<p>we get the following error message:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">error[E0277]: the trait bound `i32: FromSql&#x3C;diesel::sql_types::Text, Mysql>` is not satisfied</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">--> src/main.rs:13:11</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">13 |     name: i32,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">|           ^^^ the trait `FromSql&#x3C;diesel::sql_types::Text, Mysql>` is not implemented for `i32`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">= help: the trait `FromSql&#x3C;diesel::sql_types::Integer, Mysql>` is implemented for `i32`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">= note: required for `i32` to implement `diesel::Queryable&#x3C;diesel::sql_types::Text, Mysql>`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">= note: required for `i32` to implement `FromSqlRow&#x3C;diesel::sql_types::Text, Mysql>`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">= help: see issue #48214</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="error[E0277]: the trait bound &#x60;i32: FromSql<diesel::sql_types::Text, Mysql>&#x60; is not satisfied  --> src/main.rs:13:11   |13 |     name: i32,   |           ^^^ the trait &#x60;FromSql<diesel::sql_types::Text, Mysql>&#x60; is not implemented for &#x60;i32&#x60;   |   = help: the trait &#x60;FromSql<diesel::sql_types::Integer, Mysql>&#x60; is implemented for &#x60;i32&#x60;   = note: required for &#x60;i32&#x60; to implement &#x60;diesel::Queryable<diesel::sql_types::Text, Mysql>&#x60;   = note: required for &#x60;i32&#x60; to implement &#x60;FromSqlRow<diesel::sql_types::Text, Mysql>&#x60;   = help: see issue #48214"><div></div></button></div></figure></div>
<p>This error message now points to the exact cause of the issue: You cannot deserialize an <code>Text</code> value into a <code>i32</code> field. This attribute accepts one or more diesel backend type to check the struct definition against. It requires that the struct is using either both, <code>#[derive(Queryable)]</code> and <code>#[derive(Selectable)]</code> or <code>#[derive(QueryableByName)]</code>.</p>
<h2 id="internal-changes">Internal changes</h2>
<p>Changes listed here are relevant for crates using the <code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code> feature flag.
With Diesel 2.1 we have migrated some traits to use GAT. This affects the following traits:</p>
<ul>
<li><code>RowGatWorkaround</code></li>
<li><code>ConnectionGatWorkaround</code></li>
<li><code>HasRawValue</code></li>
<li><code>HasBindCollector</code></li>
</ul>
<p>These traits are removed in favour of generic associated types on the corresponding child trait.</p>
<p>Additionally we slightly relaxed one trait bound on <code>BindCollector::push_bound_value</code> to allow unsized values there as well.</p>
<h2 id="thanks">Thanks</h2>
<p>Thank you to everyone who helped make this release happen through sponsoring, bug reports, and discussion on GitHub and Gitter. While we don’t have a way to collect stats on that form of contribution, it’s greatly appreciated.</p>
<p>In addition to the Diesel core team, 42 people contributed code to this release. A huge thank you to:</p>
<ul>
<li>6293</li>
<li>Aleksei Orazov</li>
<li>Alexx Roche</li>
<li>AndrolGenhald</li>
<li>AndyJado</li>
<li>Artemis Livingstone</li>
<li>czotomo</li>
<li>Diana</li>
<li>Elliott Forde</li>
<li>Elrendio</li>
<li>Gorg Worgington</li>
<li>Heliozoa</li>
<li>Ian</li>
<li>Jake Goulding</li>
<li>Jeff Schwab</li>
<li>Jeremy Lardenois</li>
<li>johnmai</li>
<li>Leonardo Yvens</li>
<li>mikemcdermottredjack</li>
<li>Moritz Hedtke</li>
<li>MOZGIII</li>
<li>Neil Svedberg</li>
<li>Neo</li>
<li>Nishant Joshi</li>
<li>Oliver Cooper</li>
<li>Omid Rad</li>
<li>Pablito Labarta</li>
<li>Pavan Kumar Sunkara</li>
<li>Peter Todorov</li>
<li>Rutvik Patel</li>
<li>Sanchith Hegde</li>
<li>schlamar</li>
<li>sebasv</li>
<li>Silas McCroskey</li>
<li>Šimon Lukašík</li>
<li>Steven Chu</li>
<li>stormofice</li>
<li>Thomas Sieverding</li>
<li>Trevor Gross</li>
<li>Yuki Okushi</li>
<li>无穷无尽的爱</li>
<li>管唯宇</li>
</ul>  <h2 id="diesel-2-0-4" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-0-4/" class="astro-rvq5mvj3">Diesel 2.0.4</a> </h2> <time datetime="2023-04-18T15:01:04.000Z" class="astro-rvq5mvj3">Apr 18, 2023</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Workaround the missing name resolution in rust-analyzer. This should fix type inference for some diesel queries. (It remains broken for queries containing <code>.filter()</code>/<code>.inner_join()</code>/<code>.left_join()</code>. These require fixes in rust-analyzer itself)</li>
<li>Fixed a bug that could lead to inserting null values instead of empty values for custom sqlite types</li>
<li>Fixed a bug that could lead to an unexpected panic while providing an out of bounds bind for <code>sql_query</code> in the sqlite backend</li>
<li>Fixed some mysql backend specific impl being behind the <code>mysql</code> instead of the <code>mysql_backend</code> feature flag</li>
</ul>
<h2 id="added">Added</h2>
<ul>
<li>Support for <code>libsqlite3-sys</code> 0.26</li>
</ul>  <h2 id="diesel-derives-2-0-2" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-derives-2-0-2/" class="astro-rvq5mvj3">Diesel-derives 2.0.2</a> </h2> <time datetime="2023-03-13T09:11:11.000Z" class="astro-rvq5mvj3">Mar 13, 2023</time>  <ul>
<li>Fixing the fallout of a breaking change from <code>quote</code> by not using their internal API</li>
</ul>  <h2 id="diesel-2-0-3" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-0-3/" class="astro-rvq5mvj3">Diesel 2.0.3</a> </h2> <time datetime="2023-01-24T16:45:50.000Z" class="astro-rvq5mvj3">Jan 24, 2023</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Fixed a bug with our transaction manager implementation that caused by marking transactions as broken which could be recovered.</li>
<li>Fixed an issue with the combination of <code>BoxableExpression</code> and order clauses</li>
</ul>  <h2 id="diesel-2-0-2" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-0-2/" class="astro-rvq5mvj3">Diesel 2.0.2</a> </h2> <time datetime="2022-10-11T11:47:10.000Z" class="astro-rvq5mvj3">Oct 11, 2022</time>  <h1 id="fixed">Fixed</h1>
<ul>
<li>Reverted a fix from the 2.0.1 release that breaks valid <code>INSERT … ON CONFLICT</code> queries</li>
</ul>  </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links print:hidden astro-u2l5gyhi" dir="ltr"> <a href="/changelog/2/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg> <span class="astro-u2l5gyhi"> Previous <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Newer versions</span> </span> </a> <a href="/changelog/4/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg> <span class="astro-u2l5gyhi"> Next <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Older versions</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>