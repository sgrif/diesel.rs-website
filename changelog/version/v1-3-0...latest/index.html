<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>All versions since v1.3.0 | Changelog | DIESEL</title><link rel="canonical" href="https://diesel.rs/changelog/version/v1-3-0...latest/"/><link rel="sitemap" href="/sitemap-index.xml"/><link rel="shortcut icon" href="/public/images/diesel_logo_favicon_32.png" type="image/png"/><meta name="generator" content="Astro v5.16.11"/><meta name="generator" content="Starlight v0.37.3"/><meta property="og:title" content="All versions since v1.3.0"/><meta property="og:type" content="article"/><meta property="og:url" content="https://diesel.rs/changelog/version/v1-3-0...latest/"/><meta property="og:locale" content="en"/><meta property="og:site_name" content="DIESEL"/><meta name="twitter:card" content="summary_large_image"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template> <script>
	// Set dark theme as default on initial load
	if (!localStorage.getItem('starlight-theme')) {
		document.documentElement.dataset.theme = 'dark';
		localStorage.setItem('starlight-theme', 'dark');
	}
</script><link rel="stylesheet" href="/_astro/print.DNXP8c50.css" media="print"><link rel="stylesheet" href="/_astro/index.CuDomZ0o.css">
<style>a:where(.astro-rvq5mvj3){text-decoration:none}h2:where(.astro-rvq5mvj3) .sl-badge{font-size:var(--sl-text-sm);overflow-wrap:anywhere}time:where(.astro-rvq5mvj3){color:var(--sl-color-text);font-size:var(--sl-text-sm)}form:where(.astro-3hot6j75){position:relative}.sl-changelogs-version-list-icon:where(.astro-3hot6j75){inset-block:50%;inset-inline-start:.625rem;position:absolute;transform:translateY(-50%)}input:where(.astro-3hot6j75){background-color:var(--sl-color-black);background-color:var(--sl-color-gray-7, var(--sl-color-gray-6));border:1px solid var(--sl-color-gray-5);border-radius:.375rem;color:var(--sl-color-white);font-size:var(--sl-text-sm);height:2.5rem;line-height:1rem;padding-inline:2rem .5rem;width:100%}input:where(.astro-3hot6j75)::placeholder{color:var(--sl-color-gray-2)}.links:where(.astro-ummqa5ku){flex-wrap:wrap;gap:.75rem;margin-block-start:1rem}.links:where(.astro-ummqa5ku) a{font-size:var(--sl-text-sm);margin-block:0;margin-inline-end:0;padding:.4375rem 1.125rem}.links:where(.astro-ummqa5ku) a:not(:is(:hover,:focus)){color:var(--sl-color-text)}a:where(.astro-ummqa5ku).compare svg{transform:rotate(135deg)}
@layer starlight.components{:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-avdet4wd){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-avdet4wd){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-avdet4wd){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-avdet4wd){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-avdet4wd){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-avdet4wd){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-avdet4wd){vertical-align:middle}}
@layer starlight.components{.card-grid:where(.astro-zntqmydn){display:grid;grid-template-columns:100%;gap:1rem}.card-grid:where(.astro-zntqmydn)>*{margin-top:0!important}@media(min-width:50rem){.card-grid:where(.astro-zntqmydn){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-zntqmydn){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-zntqmydn)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}}
@layer starlight.components{svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}}
@layer starlight.components{starlight-tabs:where(.astro-esqgolmp){display:block}.tablist-wrapper:where(.astro-esqgolmp){overflow-x:auto}:where(.astro-esqgolmp)[role=tablist]{display:flex;list-style:none;border-bottom:2px solid var(--sl-color-gray-5);padding:0}.tab:where(.astro-esqgolmp){display:flex}.tab:where(.astro-esqgolmp)>:where(.astro-esqgolmp)[role=tab]{--sl-tab-color-border: var(--sl-color-gray-5);display:flex;align-items:center;gap:.5rem;line-height:var(--sl-line-height-headings);padding:.275rem 1.25rem;text-decoration:none;box-shadow:0 2px 0 var(--sl-tab-color-border);color:var(--sl-color-gray-3);outline-offset:var(--sl-outline-offset-inside);overflow-wrap:initial}.tab:where(.astro-esqgolmp) :where(.astro-esqgolmp)[role=tab][aria-selected=true]{--sl-tab-color-border: var(--sl-color-text-accent);color:var(--sl-color-white);font-weight:600}.tablist-wrapper:where(.astro-esqgolmp)~[role=tabpanel]{margin-top:1rem}}
@layer starlight.components{.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}}@layer starlight.content{.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}}
@layer starlight.components{.sl-link-button:where(.astro-xwgiixxa){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-xwgiixxa).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-xwgiixxa).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-xwgiixxa) svg{flex-shrink:0}@media(min-width:50rem){.sl-link-button:where(.astro-xwgiixxa){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa):not(:where(p *)){margin-block:1rem}}
</style><script type="module" src="/_astro/page.B1D-nYk3.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <img class="astro-m46x6ez3" alt src="/_astro/diesel_logo_favicon.BcNj_PV4.png" width="192" height="192">  <span class="astro-m46x6ez3" translate="no"> DIESEL </span> </a>  </div> <div class="sl-flex print:hidden astro-kmkmnagf"> <site-search class="astro-kmkmnagf astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = 'âŒ˜';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.cjYDvRdi.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <div class="header-links"> <a href="/news">News</a> <a href="/guides">Guides</a> <a href="/api_docs">API Docs</a> <a href="/changelog">Changelog</a> </div> <a href="https://github.com/diesel-rs/diesel" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="open-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="1bz4ry6" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Guides to Diesel</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/getting-started/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Getting Started</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/all-about-selects/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">All About Selects</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/all-about-updates/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">All About Updates</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/all-about-inserts/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">All About Inserts</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/relations/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Relations</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/composing-applications/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Composing Applications with Diesel</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/schema-in-depth/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Schema in Depth</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/extending-diesel/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Extending Diesel</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/configuring-diesel-cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Configuring Diesel CLI</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/migration-guide/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Diesel 2.0 migration guide</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">News</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/news/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">News</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/news/2_3_0_release" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Diesel 2.3.0</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/news/2_2_0_release" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Diesel 2.2.0</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/news/2_1_0_release" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Diesel 2.1.0</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/news/2_0_0_release" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Diesel 2.0.0</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">API Docs</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/api_docs/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">API Documentation</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <a href="/changelog/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">Changelog</span>  </a> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Compare Diesel</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/compare/compare_diesel/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Compare Diesel</span>  </a> </li> </ul>  </details> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="social-icons astro-wu23bvmt"> <div class="header-links"> <a href="/news">News</a> <a href="/guides">Guides</a> <a href="/api_docs">API Docs</a> <a href="/changelog">Changelog</a> </div> <a href="https://github.com/diesel-rs/diesel" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <script type="module" src="/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script><script type="module" src="/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script><div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><span class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></span><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#v1-3-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">v1.3.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-3-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.3.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-3-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.3.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#v1-4-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">v1.4.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-5" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.5</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-6" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.6</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-7" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.7</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-8" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.8</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-1" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.1</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-derives-2-0-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel-derives 2.0.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-1" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.1</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-5" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.5</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-6" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.6</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-1" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.1</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-5" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.5</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-6" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.6</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-7" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.7</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-8" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.8</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-9" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.9</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-10" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.10</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-11" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.11</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-12" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.12</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-5" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.5</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-6" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.6</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#v1-3-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">v1.3.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-3-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.3.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-3-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.3.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#v1-4-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">v1.4.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-5" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.5</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-6" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.6</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-7" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.7</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-4-8" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1.4.8</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-1" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.1</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-derives-2-0-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel-derives 2.0.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-0-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.0.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-1" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.1</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-5" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.5</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-1-6" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.1.6</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-1" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.1</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-5" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.5</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-6" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.6</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-7" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.7</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-8" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.8</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-9" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.9</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-10" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.10</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-11" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.11</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-2-12" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.2.12</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-0" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.0</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-2" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.2</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-3" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.3</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-4" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.4</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-5" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.5</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#diesel-2-3-6" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Diesel 2.3.6</span> </a>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body class="astro-bguv2lll" lang="en" dir="ltr">   <script type="module">customElements.define("starlight-changelogs-versions-list",class extends HTMLElement{constructor(){super();const n=this.querySelector("input"),e=this.querySelector("datalist");!n||!e||n.addEventListener("input",t=>{if(t.target instanceof HTMLInputElement&&(t instanceof InputEvent&&t.inputType==="insertReplacementText"||!(t instanceof InputEvent))){const o=t.target.value,i=Array.from(e.options).find(r=>r.value===o);if(!i)return;const s=i.dataset.link;s&&(window.location.pathname=s)}})}});</script> <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">All versions since v1.3.0</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content">  <div class="not-content astro-ummqa5ku"> <starlight-changelogs-versions-list class="astro-3hot6j75"> <form onsubmit="return false" class="astro-3hot6j75"> <label class="sr-only astro-3hot6j75" for="find-version">Find a version</label> <svg aria-hidden="true" class="sl-changelogs-version-list-icon astro-3hot6j75 astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <input autocomplete="off" id="find-version" list="starlight-changelogs-versions" placeholder="Find a version" type="text" required class="astro-3hot6j75"> <datalist id="starlight-changelogs-versions" class="astro-3hot6j75"> <option data-link="/changelog/version/diesel-2-3-6/" value="Diesel 2.3.6" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-3-5/" value="Diesel 2.3.5" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-3-4/" value="Diesel 2.3.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-3-3/" value="Diesel 2.3.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-3-2/" value="Diesel 2.3.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-3-0/" value="Diesel 2.3.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-12/" value="Diesel 2.2.12" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-11/" value="Diesel 2.2.11" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-10/" value="Diesel 2.2.10" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-9/" value="Diesel 2.2.9" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-8/" value="Diesel 2.2.8" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-7/" value="Diesel 2.2.7" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-6/" value="Diesel 2.2.6" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-5/" value="Diesel 2.2.5" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-4/" value="Diesel 2.2.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-3/" value="Diesel 2.2.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-2/" value="Diesel 2.2.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-1/" value="Diesel 2.2.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-2-0/" value="Diesel 2.2.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-6/" value="Diesel 2.1.6" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-5/" value="Diesel 2.1.5" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-4/" value="Diesel 2.1.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-3/" value="Diesel 2.1.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-2/" value="Diesel 2.1.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-1/" value="Diesel 2.1.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-1-0/" value="Diesel 2.1.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-0-4/" value="Diesel 2.0.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-derives-2-0-2/" value="Diesel-derives 2.0.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-0-3/" value="Diesel 2.0.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-0-2/" value="Diesel 2.0.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-0-1/" value="Diesel 2.0.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/diesel-2-0-0/" value="Diesel 2.0.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-8/" value="1.4.8" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-7/" value="1.4.7" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-6/" value="1.4.6" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-5/" value="1.4.5" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-4/" value="1.4.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-4-3/" value="1.4.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/v1-4-0/" value="v1.4.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-3-3/" value="1.3.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-3-2/" value="1.3.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/v1-3-0/" value="v1.3.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-2-0/" value="1.2.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-1-1/" value="1.1.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-1-0/" value="1.1.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-0-0/" value="1.0.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-0-0-rc1/" value="1.0.0-rc1" class="astro-3hot6j75"></option><option data-link="/changelog/version/1-0-0-beta-1/" value="1.0.0 Beta 1" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-99-0-its-basically-1-0-except-its-not/" value="v0.99.0 (It's basically 1.0 except it's not)" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-16-0/" value="v0.16.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-15-2/" value="v0.15.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-15-0/" value="v0.15.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-14-1/" value="v0.14.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-13-1/" value="v0.13.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-14-0-the-one-with-all-the-joins/" value="v0.14.0 (The one with all the joins)" class="astro-3hot6j75"></option><option data-link="/changelog/version/0-13-0/" value="0.13.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-12-0/" value="v0.12.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-11-4/" value="v0.11.4" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-11-3/" value="v0.11.3" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-11-2/" value="v0.11.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-11-1/" value="v0.11.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-11-0-the-one-where-we-support-mysql/" value="v0.11.0 (The one where we support MySQL)" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-10-1/" value="v0.10.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/the-one-where-we-work-on-stable/" value="The one where we work on stable" class="astro-3hot6j75"></option><option data-link="/changelog/version/" value class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-9-0/" value="v0.9.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-8-0/" value="v0.8.0" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-7-2/" value="v0.7.2" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-7-1/" value="v0.7.1" class="astro-3hot6j75"></option><option data-link="/changelog/version/v0-7-0/" value="v0.7.0" class="astro-3hot6j75"></option> </datalist> </form> </starlight-changelogs-versions-list>   <div class="links sl-flex astro-ummqa5ku"> <a class="sl-link-button not-content secondary astro-ummqa5ku astro-xwgiixxa" href="/changelog/"> <svg aria-hidden="true" class="astro-xwgiixxa astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg> All versions  </a>    </div> </div>   <h2 id="v1-3-0" class="astro-rvq5mvj3"> <a href="/changelog/version/v1-3-0/" class="astro-rvq5mvj3">v1.3.0</a> </h2> <time datetime="2018-05-22T20:43:26.000Z" class="astro-rvq5mvj3">May 22, 2018</time>  <h1 id="new-features">New Features</h1>
<p>This release includes a couple of major changes to how Diesel projects are developed. In the past, weâ€™ve had 2 ways to generate <code>schema.rs</code>. A procedural macro called <code>infer_schema!</code>, and a CLI command <code>diesel print-schema</code>. Weâ€™ve recommended using the CLI command for a long time, but <code>infer_schema!</code> was still useful for early prototypes.</p>
<p>At the beginning of a project, your database schema changes much more frequently. Itâ€™s extremely annoying to have to remember to run a second command after running your migrations.</p>
<p>Diesel CLI 1.3 now supports a configuration file to customize its behavior. One of the new capabilities this provides is the ability to automatically regenerate <code>schema.rs</code> whenever you run or revert a migration. This means you no longer have to remember to run <code>diesel print-schema</code> when things change.</p>
<p>Because of this, we are deprecating <code>diesel_infer_schema</code>. 1.3 will be the final release of that crate. However, <code>diesel_infer_schema</code> 1.3 will continue to work with <code>diesel</code> until at least Diesel 2.0. You can see all of the capabilities of the new configuration file at <a href="http://diesel.rs/guides/configuring-diesel-cli" rel="nofollow noopener noreferrer" target="_blank">http://diesel.rs/guides/configuring-diesel-cli</a>.</p>
<p>This release also includes a complete redesign of the <a href="http://docs.diesel.rs/diesel/macro.sql_function.html" rel="nofollow noopener noreferrer" target="_blank"><code>sql_function!</code></a> macro. The new syntax is significantly closer to normal Rust. For example, what used to be written as:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.0vx5m.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">sql_function!</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">lower</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#C5E478;--1:#3B61B0">lower_t</span><span style="--0:#D6DEEB;--1:#403F53">, (</span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> Text) </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> Text,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Here are the docs for `lower`</span></div></div><div class="ec-line"><div class="code"><span style="--0:#ECC48D;--1:#984E4D">It's awkward to make multiline</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sql_function! {    lower, lower_t, (x: Text) -> Text,    &#x22;Here are the docs for &#x60;lower&#x60;It&#x27;s awkward to make multiline&#x22;}"><div></div></button></div></figure></div>
<p>Can now be written as:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">sql_function!</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5F636F">/// Here are the docs for `lower`</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5F636F">/// It's just a normal doc comment.</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">fn</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">lower</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">x</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> Text) </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> Text;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sql_function! {    /// Here are the docs for &#x60;lower&#x60;    /// It&#x27;s just a normal doc comment.    fn lower(x: Text) -> Text;}"><div></div></button></div></figure></div>
<p>The new form also supports much more than the old one, including aggregate functions, function renaming, and generic functions. Things like <code>MAX</code> could previously not be expressed with <code>sql_function!</code>.  However, now the definition looks like this:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">sql_function!</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">#[aggregate]</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">fn</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">max</span><span style="--0:#D6DEEB;--1:#403F53">&#x3C;</span><span style="--0:#82AAFF;--1:#3B61B0">ST</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> SqlOrd </span><span style="--0:#7FDBCA;--1:#096E72">+</span><span style="--0:#D6DEEB;--1:#403F53"> IntoNullable>(</span><span style="--0:#C5E478;--1:#3B61B0">expr</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">ST</span><span style="--0:#D6DEEB;--1:#403F53">) </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">ST</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">Nullable;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sql_function! {    #[aggregate]    fn max<ST: SqlOrd + IntoNullable>(expr: ST) -> ST::Nullable;}"><div></div></button></div></figure></div>
<p>Finally, the redesigned <code>sql_function!</code> supports user defined functions on SQLite. SQLite differs from other databases, in that custom functions arenâ€™t defined in SQL. Instead you give it a C function pointer to use for the body. With Diesel, you can just give us any Rust closure that takes appropriate argument types, and weâ€™ll handle gluing that to SQLite for you.</p>
<p>You can find examples for all of this in <a href="http://docs.diesel.rs/diesel/macro.sql_function.html" rel="nofollow noopener noreferrer" target="_blank">the docs for <code>sql_function!</code></a>.</p>
<p>In addition to the headline features, this release includes a ton of quality of life changes including expanded support for locking clauses, more global support for mathematic operators, and more. As always, for a full list of changes you can find it in [the changelog].<br>
[the changelog]: <a href="https://github.com/diesel-rs/diesel/blob/v1.3.0/CHANGELOG.md" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/blob/v1.3.0/CHANGELOG.md</a></p>
<h1 id="thanks">Thanks</h1>
<p>Thank you to everyone who helped make this release happen through bug reports, and discussion on Gitter. While we donâ€™t have a way to collect stats on that form of contribution, itâ€™s greatly appreciated.</p>
<p>In addition to the Diesel core team, 12 people contributed code to this release. A huge thank you to:</p>
<ul>
<li>Aleksey Ivanov</li>
<li>Christopher Brickley</li>
<li>David Reid</li>
<li>Diggory Blake</li>
<li>Graham Turner</li>
<li>Katharina</li>
<li>Matt Kraai</li>
<li>Nick Babcock</li>
<li>Richard Petrie</li>
<li>Simon Dickson</li>
<li>Sunrin SHIMURA</li>
<li>Thierry Berger</li>
</ul>  <h2 id="1-3-2" class="astro-rvq5mvj3"> <a href="/changelog/version/1-3-2/" class="astro-rvq5mvj3">1.3.2</a> </h2> <time datetime="2018-06-14T21:03:45.000Z" class="astro-rvq5mvj3">Jun 14, 2018</time>  <p>This release contains two major bugfixes. This release fixes the behavior of unsigned types on MySQL, and a compile time issue caused by the use of <code>#[sql_name]</code> in <code>sql_function!</code> with no return type. This release only affects users who are using unsigned types on MySQL, or who had code which failed to compile with 1.3.1.</p>  <h2 id="1-3-3" class="astro-rvq5mvj3"> <a href="/changelog/version/1-3-3/" class="astro-rvq5mvj3">1.3.3</a> </h2> <time datetime="2018-09-12T15:51:32.000Z" class="astro-rvq5mvj3">Sep 12, 2018</time>  <p>This is a small bugfix release, addressing an issue with MySQL 8.0. The
behavior of the C API in libmysqlclient changed in this version of
MySQL, causing problems when a connection pool was used with Diesel.</p>
<p>If you are not using MySQL, or are on a version older than 8.0, this
release does not affect you.</p>  <h2 id="v1-4-0" class="astro-rvq5mvj3"> <a href="/changelog/version/v1-4-0/" class="astro-rvq5mvj3">v1.4.0</a> </h2> <time datetime="2019-01-21T09:52:59.000Z" class="astro-rvq5mvj3">Jan 21, 2019</time>  <h1 id="new-features">New Features</h1>
<p>In contrast to the last release most changes in this release are minor or internal. Weâ€™ve added support for newer versions of some dependency crates (libsqlite-sys, uuid, ipnetwork).</p>
<p>Diesel CLI got a command line flag to check if a generated schema matches  the already existing one. This is useful for CI setups to check there if the committed generated schema file matches the committed migrations.</p>
<p>Weâ€™ve added support for the <code>diesel_mange_updated_at('table_name')</code> SQL function on SQLite. This function handles the setup of an trigger that automatically updates the <code>updated_at</code> column on update operations.</p>
<p>Additionally several helpers were added to support the deserialisation of tuples and composite types on PostgreSQL.</p>
<p>As always, a full list of changes can be found it in <a href="https://github.com/diesel-rs/diesel/blob/dce9f01e8c53fc05c1388edd2d76adbb06caa372/CHANGELOG.md#140---2019-01-20" rel="nofollow noopener noreferrer" target="_blank">the changelog</a></p>
<h1 id="thanks">Thanks</h1>
<p>Thank you to everyone who helped make this release happen through bug reports, and discussion on Gitter. While we donâ€™t have a way to collect stats on that form of contribution, itâ€™s greatly appreciated.</p>
<p>In addition to the Diesel core team, 29 people contributed code to this release. A huge thank you to:</p>
<ul>
<li>Aleksey Ivanov</li>
<li>Andrew Speed</li>
<li>Carlos Diaz-Padron</li>
<li>Daniel Silverstone</li>
<li>Dirkjan Ochtman</li>
<li>Dominik Sander</li>
<li>Eyal Kalderon</li>
<li>Galuh Sahid</li>
<li>Hirokazu Hata</li>
<li>Jake Goulding</li>
<li>Jo Liss</li>
<li>Josh Leeb-du Toit</li>
<li>Kevin Stenerson</li>
<li>kpcyrd</li>
<li>Marcus Stollsteimer</li>
<li>Matej Stuchlik</li>
<li>Nikita Sivakov</li>
<li>notryanb</li>
<li>Rasmus Kaj</li>
<li>Richard Petrie</li>
<li>Rotem Yaari</li>
<li>Ryan Leckey</li>
<li>Sergio Benitez</li>
<li>Simon Heath</li>
<li>Stephen Muss</li>
<li>Trinh Hoang Anh</li>
</ul>  <h2 id="1-4-3" class="astro-rvq5mvj3"> <a href="/changelog/version/1-4-3/" class="astro-rvq5mvj3">1.4.3</a> </h2> <time datetime="2019-10-11T20:30:33.000Z" class="astro-rvq5mvj3">Oct 11, 2019</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Updated several dependencies</li>
<li>Fixed an issue where the postgresql backend exploits implementation defined behaviour</li>
<li>Fixed issue where rustdoc failed to build the documentation</li>
<li><code>diesel_derives</code> and <code>diesel_migrations</code> are updated to syn 1.0</li>
</ul>  <h2 id="1-4-4" class="astro-rvq5mvj3"> <a href="/changelog/version/1-4-4/" class="astro-rvq5mvj3">1.4.4</a> </h2> <time datetime="2020-03-23T10:06:46.000Z" class="astro-rvq5mvj3">Mar 23, 2020</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Update several dependencies</li>
<li>Fixed a bug with printing embedded migrations</li>
</ul>
<p>As part of this release also updated versions of <code>migration_internals</code> and <code>migration_macros</code> are published.</p>  <h2 id="1-4-5" class="astro-rvq5mvj3"> <a href="/changelog/version/1-4-5/" class="astro-rvq5mvj3">1.4.5</a> </h2> <time datetime="2020-06-09T11:28:48.000Z" class="astro-rvq5mvj3">Jun 9, 2020</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Update several dependencies</li>
<li>Fixed an issue where transactions that would fail to commit would leave the connection
in a broken non-committed non-rolled-back state.</li>
<li>Fix a bug that result in leaking sockets/file descriptors on failed connection attempts
for postgresql</li>
<li>Fix an incompatibility with newer <code>libmysqlclient</code> versions</li>
<li>Remove some potential harmful usages of <code>mem::uninitialized</code></li>
</ul>  <h2 id="1-4-6" class="astro-rvq5mvj3"> <a href="/changelog/version/1-4-6/" class="astro-rvq5mvj3">1.4.6</a> </h2> <time datetime="2021-03-05T11:12:15.000Z" class="astro-rvq5mvj3">Mar 5, 2021</time>  <h3 id="fixed">Fixed</h3>
<ul>
<li>Fixed a use-after-free issue in the <code>QueryableByName</code> implementation
of our <code>Sqlite</code> backend</li>
<li>Updated several dependencies</li>
</ul>  <h2 id="1-4-7" class="astro-rvq5mvj3"> <a href="/changelog/version/1-4-7/" class="astro-rvq5mvj3">1.4.7</a> </h2> <time datetime="2021-06-08T07:45:56.000Z" class="astro-rvq5mvj3">Jun 8, 2021</time>  <ul>
<li>Updated <code>libsqlite3-sys</code> to allow version 0.22</li>
<li>Updated <code>ipnetwork</code> to allow version 0.18</li>
</ul>  <h2 id="1-4-8" class="astro-rvq5mvj3"> <a href="/changelog/version/1-4-8/" class="astro-rvq5mvj3">1.4.8</a> </h2> <time datetime="2021-09-20T07:45:17.000Z" class="astro-rvq5mvj3">Sep 20, 2021</time>  <p>This release fixes an incompatibility between features passed to <code>diesel</code> and <code>diesel_migrations</code> while using cargos new resolver feature (<code>resolver = "2"</code>) which will become the new default with the upcoming Rust 2021 edition</p>  <h2 id="diesel-2-0-0" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-0-0/" class="astro-rvq5mvj3">Diesel 2.0.0</a> </h2> <time datetime="2022-08-29T14:42:07.000Z" class="astro-rvq5mvj3">Aug 29, 2022</time>  <p>Diesel 2.0.0 contains the contributions of more than 130 people. More than 1700 commits were submitted
over a span of 3 years.</p>
<p>As part of this release we introduced numerous new features and rewrote large parts of the internal structure.
Check out our <a href="https://diesel.rs/changelog.html" rel="nofollow noopener noreferrer" target="_blank">changelog for a complete list of changes</a>. As this is a new major Diesel release it contains a number of breaking changes. Checkout our <a href="https://diesel.rs/guides/migration_guide.html" rel="nofollow noopener noreferrer" target="_blank">migration guide</a> for details about how to handle those breaking changes.</p>
<p>This release contains the following parts:</p>
<ul>
<li>diesel 2.0.0-rc.0</li>
<li>diesel_derives 2.0.0-rc.0</li>
<li>diesel_migrations 2.0.0-rc.0</li>
<li>diesel_cli 2.0.0-rc.0</li>
<li>diesel_dynamic_schema 0.2.0-rc.0</li>
</ul>
<p>This release marks a first prerelease of the upcoming Diesel 2.0 release. We ask you for your help to finalise the release.
Checkout the â€œTimeline for a Diesel 2.0 releaseâ€ section for details about how you can help us finishing the release.</p>
<h2 id="features">Features</h2>
<p>As a highlight Diesel 2.0.0 adds support for the following features:</p>
<ul>
<li>Fully type checked <code>GROUP BY</code> support</li>
<li>Support for table aliasing</li>
<li>Support for defining select clauses via a corresponding type</li>
<li>Support for <code>UNION</code>/<code>INTERSECT</code> queries</li>
</ul>
<h3 id="support-for-group-by-clauses">Support for <code>GROUP BY</code> clauses</h3>
<p>Diesel 2.0 adds support for <code>GROUP BY</code> clauses for select queries.</p>
<p>This means queries like the following one will just work.</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.0vx5m.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53"> </span></span><span style="--0:#D6DEEB;--1:#403F53">users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">inner_join</span><span style="--0:#D6DEEB;--1:#403F53">(posts</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">group_by</span><span style="--0:#D6DEEB;--1:#403F53">(users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">select</span><span style="--0:#D6DEEB;--1:#403F53">((users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3B61B0">count</span><span style="--0:#D6DEEB;--1:#403F53">(posts</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53">)))</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=" users::table.inner_join(posts::table)    .group_by(users::id)    .select((users::name, count(posts::id)))"><div></div></button></div></figure></div>
<p>As this is the case for all other Diesel built-in query dsl, this construct is fully checked at compile time. This means Diesel
will ensure that the <code>GROUP BY</code> clause is valid for the current query and it will also ensure that expressions appearing inside
of your <code>SELECT</code> clause will match the aggregation rules provided by the current <code>GROUP BY</code> clause.</p>
<h3 id="support-for-table-aliasing">Support for table aliasing</h3>
<p>Diesel 2.0 adds support for table aliasing. This enables users to write queries, where a table appears more than once in the corresponding
<code>FROM</code> clause. For this Diesel provides a <code>Diesel::alias!</code> macro that allows to define new alias for existing tables.</p>
<p>The following query demonstrates the support for this feature:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// Define new table alias for the existing `users` table</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">let</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">users1</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#82AAFF;--1:#3B61B0">alias!</span><span style="--0:#D6DEEB;--1:#403F53">(schema</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">as</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">user1</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// Use the corresponding alias inside any existing query</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">inner_join</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">users1</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">on</span><span style="--0:#D6DEEB;--1:#403F53">(users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">eq</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">users1</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">field</span><span style="--0:#D6DEEB;--1:#403F53">(users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53">))))</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">select</span><span style="--0:#D6DEEB;--1:#403F53">((users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53">, users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#C5E478;--1:#3B61B0">users1</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">field</span><span style="--0:#D6DEEB;--1:#403F53">(users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#D6DEEB;--1:#403F53">)))</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">order_by</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">users1</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">field</span><span style="--0:#D6DEEB;--1:#403F53">(users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53">))</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="// Define new table alias for the existing &#x60;users&#x60; tablelet users1 = diesel::alias!(schema::users as user1);// Use the corresponding alias inside any existing queryusers::table    .inner_join(users1.on(users::id).eq(users1.field(users::id))))    .select((users::id, users::name, users1.field(users::name)))    .order_by(users1.field(users::id))"><div></div></button></div></figure></div>
<p>Again all of this is checked at compile time. So similar to a normal table, columns from aliases are only allowed to appear if
the corresponding query actually uses the alias.</p>
<h3 id="implied-selection-via-the-new-selectable-trait">Implied selection via the new <code>Selectable</code> trait</h3>
<p>Diesel 2.0 features a new <code>Selectable</code> trait and derive that lets users declare that a type expects a certain kind of select clause.
The major use case for this feature is to ensure that columns from a specific query are always requested in the right order
for a corresponding type implementing <code>Queryable</code>. This also works for complex queries involving joins or other kinds of nesting.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[derive(Queryable, Selectable)]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">struct</span><span style="--0:#D6DEEB;--1:#403F53"> User {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> String,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">let</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">first_user</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">select</span><span style="--0:#D6DEEB;--1:#403F53">(User</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#82AAFF;--1:#3B61B0">as_select</span><span style="--0:#D6DEEB;--1:#403F53">())</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">first</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">connection</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#[derive(Queryable, Selectable)]struct User {    id: i32,    name: String,}let first_user = users.select(User::as_select()).first(connection)?;"><div></div></button></div></figure></div>
<p>Diesel enforces at type system level that once you provided such a select clause via <code>User::as_select()</code> you are only allowed
to construct this type from the returned result of the corresponding query. This means there is no need to specify the <code>User</code> type
twice in the query above.</p>
<h3 id="support-for-unionintersectexcept-queries">Support for <code>UNION</code>/<code>INTERSECT</code>/<code>EXCEPT</code> queries</h3>
<p>Diesel 2.0 extents the query builder to support query combinations via <code>UNION</code>/<code>INTERSECT</code>/<code>EXCEPT</code>. This allows you
to easily chain multiple queries together as long as they return fields of the same type. Queries like the following
one are now supported:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span class="indent"> </span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">select</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">user_name</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">nullable</span><span style="--0:#D6DEEB;--1:#403F53">())</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">union</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">animals</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">select</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">animal_name</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">filter</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">animal_name</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">is_not_null</span><span style="--0:#D6DEEB;--1:#403F53">()))</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=" users.select(user_name.nullable())    .union(animals.select(animal_name).filter(animal_name.is_not_null()))"><div></div></button></div></figure></div>
<p>As always this is checked at compile time to reject invalid queries, like for example that ones containing select
clauses with different fields.</p>
<h2 id="call-for-participation">Call for Participation</h2>
<p>The release of Diesel 2.0 does not only include the features listed above, but also marks the
point where the following things can be provided by third party crates:</p>
<ul>
<li>Custom <code>QueryDsl</code> extensions to support previously unsupported SQL features. Checkout
<a href="https://github.com/diesel-rs/diesel_full_text_search" rel="nofollow noopener noreferrer" target="_blank"><code>diesel_full_text_search</code></a> for an example</li>
<li>Alternative query dsl implementations reusing the existing <code>Connection</code> infrastructure</li>
<li>Custom <a href="https://docs.diesel.rs/2.0.x/diesel/connection/trait.Connection.html#provide-a-new-connection-implementation-for-an-existing-backend" rel="nofollow noopener noreferrer" target="_blank"><code>Connection</code></a> implementations for existing backends</li>
<li>Custom <a href="https://docs.diesel.rs/2.0.x/diesel/connection/trait.Connection.html#implement-support-for-an-unsupported-database-system" rel="nofollow noopener noreferrer" target="_blank"><code>Connection</code></a>
and <a href="https://docs.diesel.rs/2.0.x/diesel/backend/trait.Backend.html#implementing-a-custom-backend" rel="nofollow noopener noreferrer" target="_blank"><code>Backend</code></a> implementations for previously unsupported backends. Checkout <a href="https://github.com/GiGainfosystems/diesel-oci" rel="nofollow noopener noreferrer" target="_blank">diesel-oci</a> for an example.</li>
</ul>
<p>We encourage our community to try out those features. Especially we would like to see experimentation around:</p>
<ul>
<li>Previously unsupported database backends</li>
<li>Pure rust implementations of existing backend implementations. Checkout <a href="https://github.com/sfackler/rust-postgres/issues/890" rel="nofollow noopener noreferrer" target="_blank">this</a> and <a href="https://github.com/blackbeam/rust-mysql-simple/discussions/320" rel="nofollow noopener noreferrer" target="_blank">this</a> discussion for starting points.</li>
<li>Alternative query dsl implementations. Checkout <a href="https://github.com/SeaQL/sea-query/discussions/168" rel="nofollow noopener noreferrer" target="_blank">this discussion</a> as starting point.</li>
</ul>
<p>Please get in touch with us for pointers, help and details.</p>
<h2 id="input-for-future-roadmap">Input for Future Roadmap</h2>
<p>With the release of Diesel 2.0 the planing for our next releases start. Hopefully they will not take as long as Diesel 2.0. We are looking for input on which features are wanted by our community. Please open a discussion thread with your idea in our <a href="https://github.com/diesel-rs/diesel/discussions/categories/ideas" rel="nofollow noopener noreferrer" target="_blank">discussion forum</a>.</p>
<p>Weiznich will work on improving error messages for trait heavy crates based on a Rust Foundation Project Grant. This work will hopefully improve error messages for Diesel as well. If you are aware of bad error messages please submit a
minimal example <a href="https://github.com/weiznich/rust-foundation-community-grant" rel="nofollow noopener noreferrer" target="_blank">here</a>.</p>
<h2 id="thanks">Thanks</h2>
<p>As part of this release we would like to welcome @Ten0 as part of the
diesel core team.</p>
<p>Thank you to everyone who helped make this release happen through bug reports, and discussion on Gitter. While we donâ€™t have a way to collect stats on that form of contribution, itâ€™s greatly appreciated.</p>
<p>In addition to the Diesel core team, 141 people contributed code to this release. A huge thank you to:</p>
<ul>
<li>Alessandro Menezes</li>
<li>Alexander â€˜z33kyâ€™ Hirsch</li>
<li>Alexei Pastuchov</li>
<li>Alice Ryhl</li>
<li>Amila Welihinda</li>
<li>Andre Braga Reis</li>
<li>Andreas Runfalk</li>
<li>Andrew Safigan</li>
<li>Andrew Speed</li>
<li>Andy Russell</li>
<li>Artem Vorotnikov</li>
<li>Arve Seljebu</li>
<li>Billy Chan</li>
<li>Blas Rodriguez Irizar</li>
<li>Bryan Henry</li>
<li>Callym</li>
<li>Caroline Glassberg-Powell</li>
<li>Cassie Jones</li>
<li>Chenxi Yuan</li>
<li>Chris Eckhardt</li>
<li>Chris Hanks</li>
<li>Chris Maddox</li>
<li>Chris West (Faux)</li>
<li>Clouds Flowing</li>
<li>Corentin Henry</li>
<li>Daniel Buse</li>
<li>Danilo Bargen</li>
<li>David Teller</li>
<li>David Tulig</li>
<li>DebugSteven</li>
<li>Diggory Blake</li>
<li>Dmitriy Pleshevskiy</li>
<li>Dusty Mabe</li>
<li>DrVilepis</li>
<li>EclipsedSolari</li>
<li>Emile Fugulin</li>
<li>Emm</li>
<li>Emmanuel Surleau</li>
<li>Erlend Langseth</li>
<li>Felix Watts</li>
<li>Filip Gospodinov</li>
<li>Garrett Thornburg</li>
<li>Giorgio Gambino</li>
<li>GrÃ©gory Obanos</li>
<li>Hal Gentz</li>
<li>Han Xu</li>
<li>Heliozoa</li>
<li>Henk van der Laan</li>
<li>Henry Boisdequin</li>
<li>Hirokazu Hata</li>
<li>Iban Eguia (Razican)</li>
<li>Igor Raits</li>
<li>Ivan Tham</li>
<li>JR Heard</li>
<li>Jean SIMARD</li>
<li>Jeremy Stucki</li>
<li>JiÅ™Ã­ Sejkora</li>
<li>jigaoqiang</li>
<li>Joel Parker Henderson</li>
<li>John Brandt</li>
<li>Jonas Platte</li>
<li>Jonas Schievink</li>
<li>Joshua Koudys</li>
<li>Juhasz Sandor</li>
<li>Justice4Joffrey</li>
<li>Katharina Fey</li>
<li>Kevin King</li>
<li>Kevin Kirchner</li>
<li>Khionu Sybiern</li>
<li>Kitsu</li>
<li>Koisell</li>
<li>Kononnable</li>
<li>Leonardo Yvens</li>
<li>Lukas Markeffsky</li>
<li>Maccesch</li>
<li>Marc-Stefan Cassola</li>
<li>Martell Malone</li>
<li>Martijn Groeneveldt</li>
<li>Martin Nordholts</li>
<li>Matthew Kuo</li>
<li>Matthieu Guillemot</li>
<li>Mcat12</li>
<li>Meven</li>
<li>Mike Cronce</li>
<li>Mr Ceperka</li>
<li>Nafiul Islam</li>
<li>Nathan Papapietro</li>
<li>Nicholas Yang</li>
<li>Oliver Cooper</li>
<li>Otto Castle</li>
<li>Pankaj Jangid</li>
<li>Paolo Barbolini</li>
<li>Paul Le Corre</li>
<li>Paul Martensen</li>
<li>Pavan Kumar Sunkara</li>
<li>PaweÅ‚ Przeniczny</li>
<li>Philip Trauner</li>
<li>Raphael Arias</li>
<li>Roman</li>
<li>Ryan Leckey</li>
<li>Sarthak Singh</li>
<li>Scott Driggers</li>
<li>Sean Klein</li>
<li>Simon Ertl</li>
<li>Spencer Taylor</li>
<li>Steven Chu</li>
<li>Storm Timmermans</li>
<li>SÃ©bastien Santoro</li>
<li>Takayuki Maeda</li>
<li>Thomas Constantine Moore</li>
<li>Thomas Eizinger</li>
<li>Thomas Etter</li>
<li>Tom MacWright</li>
<li>Tuetuopay</li>
<li>Urhengulas</li>
<li>Vanio Begic</li>
<li>WebeWizard</li>
<li>William Myers</li>
<li>Yin Jifeng</li>
<li>Yuki Okushi</li>
<li>Zane Duffield</li>
<li>blackghost1987</li>
<li>czotomo</li>
<li>dchenk</li>
<li>ejc DrobniÄ</li>
<li>gorbit99</li>
<li>hasezoey</li>
<li>hi-rustin</li>
<li>kevinpoitra</li>
<li>kpcyrd</li>
<li>matthew-dowdell</li>
<li>ode79</li>
<li>ropottnik</li>
<li>telios</li>
<li>theredfish</li>
<li>zoewithabang</li>
<li>Zhenhui Xie</li>
<li>Ã‰mile Fugulin</li>
<li>Îºeen</li>
<li>äºŒæ‰‹æŽ‰åŒ…å·¥ç¨‹å¸ˆ</li>
<li>æ£’æ£’å½¬_Binboy</li>
</ul>  <h2 id="diesel-2-0-1" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-0-1/" class="astro-rvq5mvj3">Diesel 2.0.1</a> </h2> <time datetime="2022-10-07T06:46:47.000Z" class="astro-rvq5mvj3">Oct 7, 2022</time>  <p>This is a bugfix release containing the following fixes:</p>
<ul>
<li>Fixed an issue with <code>diesel_cli</code> generating incompatible type names for the <code>generate_missing_sql_type_definitions</code> feature on PostgreSQL</li>
<li>Fixed an issue how <code>diesel_cli</code> handles sqlite urls while checking if a given database exists</li>
<li>Fixed an issue with <code>PgConnection</code> becoming unusable after hitting a database error in certain situations</li>
<li>Fixed an issue with diesel generating invalid SQL for certain <code>INSERT â€¦ ON CONFLICT</code> queries</li>
<li>Fixed <code>diesel_derives</code> generating code that triggers the disabled by default <code>unused_qualifications</code> lint</li>
</ul>
<p>This release includes updated versions of <code>diesel</code>, <code>diesel_cli</code> and <code>diesel_derives</code></p>  <h2 id="diesel-2-0-2" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-0-2/" class="astro-rvq5mvj3">Diesel 2.0.2</a> </h2> <time datetime="2022-10-11T11:47:10.000Z" class="astro-rvq5mvj3">Oct 11, 2022</time>  <h1 id="fixed">Fixed</h1>
<ul>
<li>Reverted a fix from the 2.0.1 release that breaks valid <code>INSERT â€¦ ON CONFLICT</code> queries</li>
</ul>  <h2 id="diesel-2-0-3" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-0-3/" class="astro-rvq5mvj3">Diesel 2.0.3</a> </h2> <time datetime="2023-01-24T16:45:50.000Z" class="astro-rvq5mvj3">Jan 24, 2023</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Fixed a bug with our transaction manager implementation that caused by marking transactions as broken which could be recovered.</li>
<li>Fixed an issue with the combination of <code>BoxableExpression</code> and order clauses</li>
</ul>  <h2 id="diesel-derives-2-0-2" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-derives-2-0-2/" class="astro-rvq5mvj3">Diesel-derives 2.0.2</a> </h2> <time datetime="2023-03-13T09:11:11.000Z" class="astro-rvq5mvj3">Mar 13, 2023</time>  <ul>
<li>Fixing the fallout of a breaking change from <code>quote</code> by not using their internal API</li>
</ul>  <h2 id="diesel-2-0-4" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-0-4/" class="astro-rvq5mvj3">Diesel 2.0.4</a> </h2> <time datetime="2023-04-18T15:01:04.000Z" class="astro-rvq5mvj3">Apr 18, 2023</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Workaround the missing name resolution in rust-analyzer. This should fix type inference for some diesel queries. (It remains broken for queries containing <code>.filter()</code>/<code>.inner_join()</code>/<code>.left_join()</code>. These require fixes in rust-analyzer itself)</li>
<li>Fixed a bug that could lead to inserting null values instead of empty values for custom sqlite types</li>
<li>Fixed a bug that could lead to an unexpected panic while providing an out of bounds bind for <code>sql_query</code> in the sqlite backend</li>
<li>Fixed some mysql backend specific impl being behind the <code>mysql</code> instead of the <code>mysql_backend</code> feature flag</li>
</ul>
<h2 id="added">Added</h2>
<ul>
<li>Support for <code>libsqlite3-sys</code> 0.26</li>
</ul>  <h2 id="diesel-2-1-0" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-0/" class="astro-rvq5mvj3">Diesel 2.1.0</a> </h2> <time datetime="2023-05-26T08:46:08.000Z" class="astro-rvq5mvj3">May 26, 2023</time>  <p>Diesel 2.1.0 contains the contributions of 42 people. More than 380 commits were submitted
over a span of 9 months.</p>
<p>This release contains several new features and improves existing features. It introduces support for generating migrations based on the diff between your <code>schema.rs</code> file and your database via Diesel CLI. Diesel derives now provides a <code>#[derive(MultiConnection)]</code> derive macro that allows to easily combine different database connections into a single enum, which implements <code>Connection</code> on its own. The MySQL backend gets support for <code>upsert</code> queries via the <code>ON DUPLICATE KEYS</code> syntax. Finally we provide new tooling to improve complex error messages generated for common error cases. Check out our <a href="/changelog.html">changelog for a complete list of changes</a>.</p>
<p>This release wouldnâ€™t be possible without the support of our contributors and sponsors. If you want to support diesels development, consider <a href="https://github.com/diesel-rs/diesel/issues?q=reviewer+is%3Aopen" rel="nofollow noopener noreferrer" target="_blank">joining the reviewer team</a>, submitting <a href="https://github.com/diesel-rs/diesel/issues?q=is%3Aissue+is%3Aopen++label%3A%22help+wanted%22+" rel="nofollow noopener noreferrer" target="_blank">PRâ€™s</a>, help writing documentation or <a href="https://github.com/sponsors/weiznich" rel="nofollow noopener noreferrer" target="_blank">sponsor the maintainers</a>.</p>
<h2 id="migration-generation">Migration generation</h2>
<p>Diesel CLI now includes support for generating migrations based on the difference of your <code>schema.rs</code> file and your local database.
This works as following:</p>
<ol>
<li>Start editing your <code>schema.rs</code> file, for example by adding your first table:</li>
</ol>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.0vx5m.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#82AAFF;--1:#3B61B0">table!</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> Integer,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> Text,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="diesel::table! {    users {        id -> Integer,        name -> Text,    }}"><div></div></button></div></figure></div>
<ol start="2">
<li>Run <code>diesel migration generate my_first_migration --diff-schema --database-url DATABASE_URL</code></li>
<li>Checkout, verify and possible modify the generated migration:</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="sql"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">-- Your SQL goes here</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">CREATE</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">TABLE</span><span style="--0:#D6DEEB;--1:#403F53"> `</span><span style="--0:#82AAFF;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53">`(</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D9F5DD;--1:#111111">`</span><span style="--0:#ECC48D;--1:#984E4D">id</span><span style="--0:#D9F5DD;--1:#111111">`</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">INTEGER</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">NOT NULL</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">PRIMARY KEY</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D9F5DD;--1:#111111">`</span><span style="--0:#ECC48D;--1:#984E4D">name</span><span style="--0:#D9F5DD;--1:#111111">`</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">TEXT</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">NOT NULL</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="-- Your SQL goes hereCREATE TABLE &#x60;users&#x60;(  &#x60;id&#x60; INTEGER NOT NULL PRIMARY KEY,  &#x60;name&#x60; TEXT NOT NULL);"><div></div></button></div></figure></div>
<ol start="4">
<li>Run the migration via <code>diesel migration run --database-url DATABASE_URL</code></li>
</ol>
<p>Itâ€™s important to note that the generated migrations can only contain information that are part of the <code>schema.rs</code> file. This explicitly excludes default value, custom check constraints and similar SQL features. We expect the generated migrations to be a good starting point for writing the actual migration you need, we do not expect them to include all necessary information in all cases or to provide the perfect solution in each scenario.</p>
<h2 id="multiconnection-support"><code>MultiConnection</code> support</h2>
<p>Diesel now includes a <a href="https://docs.diesel.rs/2.1.x/diesel/derive.MultiConnection.html" rel="nofollow noopener noreferrer" target="_blank"><code>#[derive(MultiConnection)]</code></a> proc macro derive, which allows to easily support more than one database backend in a single application. It can be applied to an enum of different connections:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[derive(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">MultiConnection)]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">pub</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">enum</span><span style="--0:#D6DEEB;--1:#403F53"> AnyConnection {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">Postgresql</span><span style="--0:#D6DEEB;--1:#403F53">(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">PgConnection),</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">Mysql</span><span style="--0:#D6DEEB;--1:#403F53">(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">MysqlConnection),</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">Sqlite</span><span style="--0:#D6DEEB;--1:#403F53">(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">SqliteConnection),</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#[derive(diesel::MultiConnection)]pub enum AnyConnection {    Postgresql(diesel::PgConnection),    Mysql(diesel::MysqlConnection),    Sqlite(diesel::SqliteConnection),}"><div></div></button></div></figure></div>
<p>Afterwards the <code>AnyConnection</code> type can be used as ordinary connection:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">fn</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">use_multi</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">&#x26;</span><span style="--0:#C792EA;--1:#8844AE">mut</span><span style="--0:#D6DEEB;--1:#403F53"> AnyConnection) </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> QueryResult&#x3C;()> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">   </span><span style="--0:#919F9F;--1:#5D6376">// Use the connection enum as any other connection type</span></div></div><div class="ec-line"><div class="code"><span class="indent">   </span><span style="--0:#919F9F;--1:#5D6376">// for inserting/updating/loading/â€¦</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">   </span></span><span style="--0:#D6DEEB;--1:#403F53">diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#82AAFF;--1:#3B61B0">insert_into</span><span style="--0:#D6DEEB;--1:#403F53">(users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">       </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">values</span><span style="--0:#D6DEEB;--1:#403F53">(users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">eq</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Sean</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">))</span></div></div><div class="ec-line"><div class="code"><span class="indent">       </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">execute</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">   </span><span style="--0:#C792EA;--1:#8844AE">let</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">load</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">&#x3C;(i32, String)>(</span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">   </span></span><span style="--0:#D6DEEB;--1:#403F53">Ok(())</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="fn use_multi(conn: &#x26;mut AnyConnection) -> QueryResult<()> {   // Use the connection enum as any other connection type   // for inserting/updating/loading/â€¦   diesel::insert_into(users::table)       .values(users::name.eq(&#x22;Sean&#x22;))       .execute(conn)?;   let users = users::table.load::<(i32, String)>(conn)?;   Ok(())}"><div></div></button></div></figure></div>
<p>By default this connection type will only support a subset of SQL thatâ€™s supported by all inner connection types. By being an enum itâ€™s easy to fallback to backend specific SQL as soon as required. We provide this feature as derive macro so that it is possible to:</p>
<ul>
<li>Select the backends you actually use</li>
<li>Allow to use third party connections as well (this requires the third party connection to be based at least on diesel 2.1 and to implement the <a href="https://docs.diesel.rs/2.1.x/diesel/connection/trait.MultiConnectionHelper.html" rel="nofollow noopener noreferrer" target="_blank"><code>MultiConnectionHelper</code></a> trait in addition to the existing <code>Connection</code> trait.</li>
</ul>
<h2 id="upsert-support-for-the-mysql-backend">Upsert support for the MySQL backend</h2>
<p>Diesel 2.1 adds support for <code>INSERT INTO â€¦ ON DUPLICATE KEYS â€¦</code> queries for the MySQL backend using the existing <a href="https://docs.diesel.rs/2.1.x/diesel/query_builder/struct.InsertStatement.html#on-duplicate-key" rel="nofollow noopener noreferrer" target="_blank"><code>upsert</code></a> framework. Itâ€™s now possible to write such queries using the diesel provided DSL:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#82AAFF;--1:#3B61B0">insert_into</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">values</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">&#x26;</span><span style="--0:#C5E478;--1:#3B61B0">user2</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">on_conflict</span><span style="--0:#D6DEEB;--1:#403F53">(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">dsl</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">DuplicatedKeys)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">do_update</span><span style="--0:#D6DEEB;--1:#403F53">()</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">set</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">eq</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">I DONT KNOW ANYMORE</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">))</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">execute</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="diesel::insert_into(users)    .values(&#x26;user2)    .on_conflict(diesel::dsl::DuplicatedKeys)    .do_update()    .set(name.eq(&#x22;I DONT KNOW ANYMORE&#x22;))    .execute(conn)?;"><div></div></button></div></figure></div>
<h2 id="improved-error-messages">Improved error messages</h2>
<p>We spend some effort to improve error messages generated by rustc for common diesel issues further.</p>
<p>Consider the following example:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">table!</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">users</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> Integer,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> Text,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[derive(Queryable)]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">struct</span><span style="--0:#D6DEEB;--1:#403F53"> User {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> String,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">load</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">&#x3C;User>(</span><span style="--0:#7FDBCA;--1:#096E72">&#x26;</span><span style="--0:#C792EA;--1:#8844AE">mut</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="table! {    users {        id -> Integer,        name -> Text,    }}#[derive(Queryable)]struct User {    name: String,    id: i32,}users::table.load::<User>(&#x26;mut conn)"><div></div></button></div></figure></div>
<p>which would generate the following error message:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">error[E0277]: the trait bound `(diesel::sql_types::Integer, diesel::sql_types::Text): load_dsl::private::CompatibleType&#x3C;User, Mysql>` is not satisfied</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">--> src/main.rs:20:31</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">20   |     users::table.load::&#x3C;User>(&#x26;mut conn);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                  ----         ^^^^^^^^^ the trait `load_dsl::private::CompatibleType&#x3C;User, Mysql>` is not implemented for `(diesel::sql_types::Integer, diesel::sql_types::Text)`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                  |</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                  required by a bound introduced by this call</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">= help: the following other types implement trait `load_dsl::private::CompatibleType&#x3C;U, DB>`:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3, ST4)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3, ST4, ST5)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3, ST4, ST5, ST6)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3, ST4, ST5, ST6, ST7)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">               </span></span><span style="--0:#d6deeb;--1:#403f53">(ST0, ST1, ST2, ST3, ST4, ST5, ST6, ST7, ST8)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">             </span></span><span style="--0:#d6deeb;--1:#403f53">and 24 others</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">= note: required for `users::table` to implement `LoadQuery&#x3C;'_, _, User>`</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">note: required by a bound in `diesel::RunQueryDsl::load`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">--> /home/weiznich/.cargo/git/checkouts/diesel-6e3331fb3b9331ec/ef6252e/diesel/src/query_dsl/mod.rs:1543:15</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">1543 |         Self: LoadQuery&#x3C;'query, Conn, U>,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|               ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `diesel::RunQueryDsl::load`</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="error[E0277]: the trait bound &#x60;(diesel::sql_types::Integer, diesel::sql_types::Text): load_dsl::private::CompatibleType<User, Mysql>&#x60; is not satisfied    --> src/main.rs:20:31     |20   |     users::table.load::<User>(&#x26;mut conn);     |                  ----         ^^^^^^^^^ the trait &#x60;load_dsl::private::CompatibleType<User, Mysql>&#x60; is not implemented for &#x60;(diesel::sql_types::Integer, diesel::sql_types::Text)&#x60;     |                  |     |                  required by a bound introduced by this call     |     = help: the following other types implement trait &#x60;load_dsl::private::CompatibleType<U, DB>&#x60;:               (ST0, ST1)               (ST0, ST1, ST2)               (ST0, ST1, ST2, ST3)               (ST0, ST1, ST2, ST3, ST4)               (ST0, ST1, ST2, ST3, ST4, ST5)               (ST0, ST1, ST2, ST3, ST4, ST5, ST6)               (ST0, ST1, ST2, ST3, ST4, ST5, ST6, ST7)               (ST0, ST1, ST2, ST3, ST4, ST5, ST6, ST7, ST8)             and 24 others     = note: required for &#x60;users::table&#x60; to implement &#x60;LoadQuery<&#x27;_, _, User>&#x60;note: required by a bound in &#x60;diesel::RunQueryDsl::load&#x60;    --> /home/weiznich/.cargo/git/checkouts/diesel-6e3331fb3b9331ec/ef6252e/diesel/src/query_dsl/mod.rs:1543:15     |1543 |         Self: LoadQuery<&#x27;query, Conn, U>,     |               ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in &#x60;diesel::RunQueryDsl::load&#x60;"><div></div></button></div></figure></div>
<p>This is caused by an field order mismatch between what your query returns and what your struct expects the query to return.</p>
<p>With diesel 2.0 we introduced the <code>Selectable</code> trait and a corresponding derive. That allows to automatically generate a matching select clause to prevent such issues from happening. While this already solved parts of the problem it does not solve the following case:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[derive(Queryable, Selectable)]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">struct</span><span style="--0:#D6DEEB;--1:#403F53"> User {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">users</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#C5E478;--1:#3B61B0">table</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">select</span><span style="--0:#D6DEEB;--1:#403F53">(User</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#82AAFF;--1:#3B61B0">as_select</span><span style="--0:#D6DEEB;--1:#403F53">())</span><span style="--0:#7FDBCA;--1:#096E72">.</span><span style="--0:#82AAFF;--1:#3B61B0">load</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">&#x26;</span><span style="--0:#C792EA;--1:#8844AE">mut</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">conn</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#[derive(Queryable, Selectable)]struct User {    name: i32,    id: i32,}users::table.select(User::as_select()).load(&#x26;mut conn);"><div></div></button></div></figure></div>
<p>which generates the following error message:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">error[E0277]: the trait bound `expression::select_by::SelectBy&#x3C;User, _>: load_dsl::private::CompatibleType&#x3C;_, _>` is not satisfied</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">--> src/main.rs:20:49</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">20   |     users::table.select(User::as_select()).load(&#x26;mut conn);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                                            ---- ^^^^^^^^^ the trait `load_dsl::private::CompatibleType&#x3C;_, _>` is not implemented for `expression::select_by::SelectBy&#x3C;User, _>`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                                            |</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|                                            required by a bound introduced by this call</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">= help: the trait `load_dsl::private::CompatibleType&#x3C;U, DB>` is implemented for `expression::select_by::SelectBy&#x3C;U, DB>`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">= note: required for `SelectStatement&#x3C;FromClause&#x3C;users::table>, query_builder::select_clause::SelectClause&#x3C;expression::select_by::SelectBy&#x3C;User, _>>>` to implement `LoadQuery&#x3C;'_, _, _>`</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">note: required by a bound in `diesel::RunQueryDsl::load`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">--> /home/weiznich/.cargo/git/checkouts/diesel-6e3331fb3b9331ec/ef6252e/diesel/src/query_dsl/mod.rs:1543:15</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">1543 |         Self: LoadQuery&#x3C;'query, Conn, U>,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">|               ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `diesel::RunQueryDsl::load`</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="error[E0277]: the trait bound &#x60;expression::select_by::SelectBy<User, _>: load_dsl::private::CompatibleType<_, _>&#x60; is not satisfied    --> src/main.rs:20:49     |20   |     users::table.select(User::as_select()).load(&#x26;mut conn);     |                                            ---- ^^^^^^^^^ the trait &#x60;load_dsl::private::CompatibleType<_, _>&#x60; is not implemented for &#x60;expression::select_by::SelectBy<User, _>&#x60;     |                                            |     |                                            required by a bound introduced by this call     |     = help: the trait &#x60;load_dsl::private::CompatibleType<U, DB>&#x60; is implemented for &#x60;expression::select_by::SelectBy<U, DB>&#x60;     = note: required for &#x60;SelectStatement<FromClause<users::table>, query_builder::select_clause::SelectClause<expression::select_by::SelectBy<User, _>>>&#x60; to implement &#x60;LoadQuery<&#x27;_, _, _>&#x60;note: required by a bound in &#x60;diesel::RunQueryDsl::load&#x60;    --> /home/weiznich/.cargo/git/checkouts/diesel-6e3331fb3b9331ec/ef6252e/diesel/src/query_dsl/mod.rs:1543:15     |1543 |         Self: LoadQuery<&#x27;query, Conn, U>,     |               ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in &#x60;diesel::RunQueryDsl::load&#x60;"><div></div></button></div></figure></div>
<p>This is caused by a type mismatch in the <code>name</code> field. With diesel 2.1 we now introduce an additional <a href="https://docs.diesel.rs/2.1.x/diesel/expression/derive.Selectable.html#optional-type-attributes" rel="nofollow noopener noreferrer" target="_blank"><code>#[diesel(check_for_backend(diesel::backend::BackendType))]</code></a> attribute that greatly improves the error messages generated for these cases. This helps pining down which field exactly causes a type mismatch.</p>
<p>By applying this attribute to our example:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="rust"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[derive(Queryable, Selectable)]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">#[diesel(check_for_backend(diesel</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">mysql</span><span style="--0:#7FDBCA;--1:#096E72">::</span><span style="--0:#D6DEEB;--1:#403F53">Mysql))]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">struct</span><span style="--0:#D6DEEB;--1:#403F53"> User {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">name</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> i32,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#[derive(Queryable, Selectable)]#[diesel(check_for_backend(diesel::mysql::Mysql))]struct User {    name: i32,    id: i32,}"><div></div></button></div></figure></div>
<p>we get the following error message:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">error[E0277]: the trait bound `i32: FromSql&#x3C;diesel::sql_types::Text, Mysql>` is not satisfied</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">--> src/main.rs:13:11</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">13 |     name: i32,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">|           ^^^ the trait `FromSql&#x3C;diesel::sql_types::Text, Mysql>` is not implemented for `i32`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">= help: the trait `FromSql&#x3C;diesel::sql_types::Integer, Mysql>` is implemented for `i32`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">= note: required for `i32` to implement `diesel::Queryable&#x3C;diesel::sql_types::Text, Mysql>`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">= note: required for `i32` to implement `FromSqlRow&#x3C;diesel::sql_types::Text, Mysql>`</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">   </span></span><span style="--0:#d6deeb;--1:#403f53">= help: see issue #48214</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="error[E0277]: the trait bound &#x60;i32: FromSql<diesel::sql_types::Text, Mysql>&#x60; is not satisfied  --> src/main.rs:13:11   |13 |     name: i32,   |           ^^^ the trait &#x60;FromSql<diesel::sql_types::Text, Mysql>&#x60; is not implemented for &#x60;i32&#x60;   |   = help: the trait &#x60;FromSql<diesel::sql_types::Integer, Mysql>&#x60; is implemented for &#x60;i32&#x60;   = note: required for &#x60;i32&#x60; to implement &#x60;diesel::Queryable<diesel::sql_types::Text, Mysql>&#x60;   = note: required for &#x60;i32&#x60; to implement &#x60;FromSqlRow<diesel::sql_types::Text, Mysql>&#x60;   = help: see issue #48214"><div></div></button></div></figure></div>
<p>This error message now points to the exact cause of the issue: You cannot deserialize an <code>Text</code> value into a <code>i32</code> field. This attribute accepts one or more diesel backend type to check the struct definition against. It requires that the struct is using either both, <code>#[derive(Queryable)]</code> and <code>#[derive(Selectable)]</code> or <code>#[derive(QueryableByName)]</code>.</p>
<h2 id="internal-changes">Internal changes</h2>
<p>Changes listed here are relevant for crates using the <code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code> feature flag.
With Diesel 2.1 we have migrated some traits to use GAT. This affects the following traits:</p>
<ul>
<li><code>RowGatWorkaround</code></li>
<li><code>ConnectionGatWorkaround</code></li>
<li><code>HasRawValue</code></li>
<li><code>HasBindCollector</code></li>
</ul>
<p>These traits are removed in favour of generic associated types on the corresponding child trait.</p>
<p>Additionally we slightly relaxed one trait bound on <code>BindCollector::push_bound_value</code> to allow unsized values there as well.</p>
<h2 id="thanks">Thanks</h2>
<p>Thank you to everyone who helped make this release happen through sponsoring, bug reports, and discussion on GitHub and Gitter. While we donâ€™t have a way to collect stats on that form of contribution, itâ€™s greatly appreciated.</p>
<p>In addition to the Diesel core team, 42 people contributed code to this release. A huge thank you to:</p>
<ul>
<li>6293</li>
<li>Aleksei Orazov</li>
<li>Alexx Roche</li>
<li>AndrolGenhald</li>
<li>AndyJado</li>
<li>Artemis Livingstone</li>
<li>czotomo</li>
<li>Diana</li>
<li>Elliott Forde</li>
<li>Elrendio</li>
<li>Gorg Worgington</li>
<li>Heliozoa</li>
<li>Ian</li>
<li>Jake Goulding</li>
<li>Jeff Schwab</li>
<li>Jeremy Lardenois</li>
<li>johnmai</li>
<li>Leonardo Yvens</li>
<li>mikemcdermottredjack</li>
<li>Moritz Hedtke</li>
<li>MOZGIII</li>
<li>Neil Svedberg</li>
<li>Neo</li>
<li>Nishant Joshi</li>
<li>Oliver Cooper</li>
<li>Omid Rad</li>
<li>Pablito Labarta</li>
<li>Pavan Kumar Sunkara</li>
<li>Peter Todorov</li>
<li>Rutvik Patel</li>
<li>Sanchith Hegde</li>
<li>schlamar</li>
<li>sebasv</li>
<li>Silas McCroskey</li>
<li>Å imon LukaÅ¡Ã­k</li>
<li>Steven Chu</li>
<li>stormofice</li>
<li>Thomas Sieverding</li>
<li>Trevor Gross</li>
<li>Yuki Okushi</li>
<li>æ— ç©·æ— å°½çš„çˆ±</li>
<li>ç®¡å”¯å®‡</li>
</ul>  <h2 id="diesel-2-1-1" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-1/" class="astro-rvq5mvj3">Diesel 2.1.1</a> </h2> <time datetime="2023-08-25T07:19:43.000Z" class="astro-rvq5mvj3">Aug 25, 2023</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Fixed an issue in diesel-cli that lead to using unquoted table names in one of the internal queries</li>
<li>Fixed a bug in <code>diesel print-schema</code> that lead to generating invalid <code>table!</code> macros if both the <code>#[sql_name]</code> and the <code>#[max_lenght]</code> attribute are present</li>
<li>Fixed an issue in diesel-cli that lead to ignoring certain foreign key constraints for postgresql</li>
<li>Fixed an crash while using <code>diesel print-schema</code> with really old sqlite versions</li>
<li>Fixed an issue where <code>#[diesel(check_for_backend)]</code> ignored <code>#[diesel(deserialize_as)]</code> attributes</li>
<li>Fixed several issues with the new <code>#[derive(MultiConnection)]</code> feature</li>
<li>Fixed some edge cases in our sqlite timestamp parsing behaviour</li>
<li><code>diesel migration generate --diff-schema</code> now respects table filters as setup for <code>print-schema</code> via <code>diesel.toml</code></li>
<li>Fixed a potential breaking change around queries containing <code>DISTINCT ON</code> and <code>ORDER BY</code> clauses consisting of custom sql expressions (e.g. <code>diesel::dsl::sql</code>)</li>
</ul>
<h2 id="added">Added</h2>
<ul>
<li>Support for bigdecimal 0.4</li>
</ul>
<p>You can support the development of diesel by <a href="https://github.com/diesel-rs/diesel" rel="nofollow noopener noreferrer" target="_blank">sponsoring the project on github</a></p>  <h2 id="diesel-2-1-2" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-2/" class="astro-rvq5mvj3">Diesel 2.1.2</a> </h2> <time datetime="2023-09-25T17:53:30.000Z" class="astro-rvq5mvj3">Sep 25, 2023</time>  <ul>
<li>Fixed another potential breaking chaneg around queries containing <code>DISTINCT ON</code> and <code>ORDER BY</code> clauses consisting of custom sql expressions (e.g. <code>.nullable()</code>)</li>
<li>Fixed an issue where <code>#[derive(Selectable)]</code> and <code>#[diesel(check_for_backend)]</code> generates invalid rust code if the struct contains lifetimes/generic types</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github.</p>  <h2 id="diesel-2-1-3" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-3/" class="astro-rvq5mvj3">Diesel 2.1.3</a> </h2> <time datetime="2023-10-05T15:13:09.000Z" class="astro-rvq5mvj3">Oct 5, 2023</time>  <ul>
<li>Increased accidentally decreased limit around element count in  <code>DISTINCT ON</code> and <code>ORDER BY</code> clauses again as that broke existing code</li>
</ul>  <h2 id="diesel-2-1-4" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-4/" class="astro-rvq5mvj3">Diesel 2.1.4</a> </h2> <time datetime="2023-11-14T15:04:43.000Z" class="astro-rvq5mvj3">Nov 14, 2023</time>  <ul>
<li>Update <code>libsqlite3-sys</code> to allow version 0.27 as well</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github.</p>  <h2 id="diesel-2-1-5" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-5/" class="astro-rvq5mvj3">Diesel 2.1.5</a> </h2> <time datetime="2024-03-15T09:37:34.000Z" class="astro-rvq5mvj3">Mar 15, 2024</time>  <ul>
<li>Fix <code>impl SqlOrd</code> postgres > postgres_backend feature flag.</li>
<li>Allow <code>Queryable</code> to be used with multiple table names.</li>
<li>Update <code>libsqlite3-sys</code> to allow version 0.28 as well</li>
</ul>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.1.4...v2.1.5" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.1.4â€¦v2.1.5</a></p>  <h2 id="diesel-2-1-6" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-1-6/" class="astro-rvq5mvj3">Diesel 2.1.6</a> </h2> <time datetime="2024-04-19T06:02:53.000Z" class="astro-rvq5mvj3">Apr 19, 2024</time>  <ul>
<li>Fix using <code>BoxableExpression</code> with having clauses</li>
<li>Fix using numeric expressions with aliased fields</li>
<li>Minor documentation fixes</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github.</p>
<p>Full Changelog: <a href="https://github.com/diesel-rs/diesel/compare/v2.1.5...v2.1.6" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.1.5â€¦v2.1.6</a></p>  <h2 id="diesel-2-2-0" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-0/" class="astro-rvq5mvj3">Diesel 2.2.0</a> </h2> <time datetime="2024-05-31T07:41:51.000Z" class="astro-rvq5mvj3">May 31, 2024</time>  <p>This release wouldnâ€™t be possible without the support of our contributors and sponsors. If you want to support diesels development, consider <a href="https://github.com/diesel-rs/diesel/issues/1186" rel="nofollow noopener noreferrer" target="_blank">joining the reviewer team</a>, submitting <a href="https://github.com/diesel-rs/diesel/issues?q=is%3Aissue+is%3Aopen++label%3A%22help+wanted%22+" rel="nofollow noopener noreferrer" target="_blank">PRâ€™s</a>, help writing documentation or <a href="https://github.com/sponsors/weiznich" rel="nofollow noopener noreferrer" target="_blank">sponsor the maintainers</a>.</p>
<h3 id="added">Added</h3>
<ul>
<li>Support <code>[print_schema] exclude_custom_type_definitions = ["Vector"]</code>. If a <code>custom type</code> matches one element on the list itâ€™s skipped.</li>
<li>Added automatic usage of all sqlite <code>rowid</code> aliases when no explicit primary key is defined for <code>print-schema</code></li>
<li>Added a <code>#[dsl::auto_type]</code> attribute macro, allowing to infer type of query fragment functions</li>
<li>Added the same type inference on <code>Selectable</code> derives, which allows skipping specifying <code>select_expression_type</code> most of the time, in turn enabling most queries to be written using just a <code>Selectable</code> derive.</li>
<li>Added an optional <code>#[diesel(skip_insertion)]</code> field attribute to the <code>Insertable</code> derive macro, allowing fields which map to generated columns to be skipped during insertion.</li>
<li>Support for connection instrumentation. This allows to inspect any query run by your application</li>
<li>Logging in diesel-cli</li>
<li>Support for libsqlite3-sys 0.28</li>
<li>Add <code>sqlite-integer-primary-key-is-bigint</code> configuration option, usable with SQLite 3.37 or above, allowing to use <code>BigInt</code> for <code>INTEGER PRIMARY KEY</code> columns in SQLite for tables without the <code>WITHOUT ROWID</code> attribute (<a href="https://www.sqlite.org/lang_createtable.html#rowid" rel="nofollow noopener noreferrer" target="_blank">SQLite doc</a>).</li>
<li>Support for multiple <code>print_schema</code> entry in <code>diesel.toml</code> (e.g. <code>[print_schema.user1]</code>), which allows generating multiple schema.rs files</li>
<li>Add support for <code>COPY TO</code> and <code>COPY FROM</code> statements</li>
<li>Add support for mapping <code>chrono::Duration</code> to postgresqlâ€™s <code>INTERVAL</code> sql type</li>
<li>Added <code>serialize_database_to_buffer</code> and <code>deserialize_readonly_database_from_buffer</code> methods in <code>SqliteConnection</code> to support serialization/deserialization of SQLite databases to and from byte buffers.</li>
<li>Added <code>SerializedDatabase</code> wrapper type for a serialized database that is dynamically allocated by calling <code>serialize_database_to_buffer</code>. This RAII wrapper deallocates the memory when it goes out of scope with <code>sqlite3_free</code>.</li>
</ul>
<h3 id="changed">Changed</h3>
<ul>
<li>The minimal officially supported rustc version is now 1.78.0</li>
<li>Deprecated <code>sql_function!</code> in favour of <code>define_sql_function!</code> which provides compatibility with <code>#[dsl::auto_type]</code></li>
<li>Deserialization error messages now contain information about the field that failed to deserialize</li>
</ul>
<h2 id="new-contributors">New Contributors</h2>
<ul>
<li>@tp-woven made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3650" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3650</a></li>
<li>@aumetra made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3657" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3657</a></li>
<li>@sintemal made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3660" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3660</a></li>
<li>@DannyGoldberg made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3681" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3681</a></li>
<li>@ernest-rudnicki made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3690" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3690</a></li>
<li>@cr0sh made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3699" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3699</a></li>
<li>@dsp made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3713" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3713</a></li>
<li>@snf made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3714" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3714</a></li>
<li>@moulins made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3724" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3724</a></li>
<li>@surban made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3734" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3734</a></li>
<li>@gmanninglive made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3725" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3725</a></li>
<li>@BlackDex made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3747" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3747</a></li>
<li>@retro-git made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3792" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3792</a></li>
<li>@moyeah made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3805" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3805</a></li>
<li>@kriswuollett made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3777" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3777</a></li>
<li>@szepeviktor made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3821" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3821</a></li>
<li>@hgzimmerman made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3841" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3841</a></li>
<li>@brocaar made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3854" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3854</a></li>
<li>@peter-scholtens made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3855" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3855</a></li>
<li>@formlogic-kirk made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3862" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3862</a></li>
<li>@yagince made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3888" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3888</a></li>
<li>@c410-f3r made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3879" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3879</a></li>
<li>@dullbananas made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3904" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3904</a></li>
<li>@colem213 made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3908" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3908</a></li>
<li>@greyblake made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3917" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3917</a></li>
<li>@longsleep made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3926" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3926</a></li>
<li>@dennybiasiolli made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3939" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3939</a></li>
<li>@epompeii made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3849" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3849</a></li>
<li>@stormshield-kg made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3940" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3940</a></li>
<li>@sabify made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3943" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3943</a></li>
<li>@forest1102 made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3796" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3796</a></li>
<li>@dvogel made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3921" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3921</a></li>
<li>@Tanguille made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3956" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3956</a></li>
<li>@ISibboI made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3751" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3751</a></li>
<li>@DavisRayM made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3982" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3982</a></li>
<li>@kornelski made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3980" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3980</a></li>
<li>@momobel made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3977" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3977</a></li>
<li>@Sagebati made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/4002" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/4002</a></li>
<li>@MixusMinimax made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/4026" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/4026</a></li>
<li>@tommymcc made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/4021" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/4021</a></li>
<li>@dessalines made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/4019" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/4019</a></li>
<li>@bachmannscode made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/4015" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/4015</a></li>
<li>@McDic made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/4037" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/4037</a></li>
<li>@z33ky made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/4030" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/4030</a></li>
<li>@JonBoyleCoding made their first contribution in <a href="https://github.com/diesel-rs/diesel/pull/3944" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/pull/3944</a></li>
</ul>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.1.0...v2.2.0" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.1.0â€¦v2.2.0</a></p>  <h2 id="diesel-2-2-1" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-1/" class="astro-rvq5mvj3">Diesel 2.2.1</a> </h2> <time datetime="2024-06-13T11:54:01.000Z" class="astro-rvq5mvj3">Jun 13, 2024</time>  <p>You can support the development of diesel by contributions or by sponsoring the project on Github.</p>
<ul>
<li>Fixed using <code>#[dsl::auto_type]</code> with functions that accept reference arguments</li>
<li>Fixed using <code>#[derive(Queryable)]</code> with structs that use a type named <code>Row</code> as field type</li>
<li>Fixed a regression that prevented using <code>mysqlclient-sys</code> 0.2.x with diesel 2.2</li>
<li>Fixed connecting to postgres database using the scram-sha-256 authentication method on windows while using the bundled postgres builds</li>
<li>Improved the error messages in diesel-cli for cases where a file/folder was not found</li>
<li>Fixed several version detection bugs in mysqlclient-sys to use pre-generated bindings in more situations</li>
</ul>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.0...v2.2.1" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.0â€¦v2.2.1</a></p>  <h2 id="diesel-2-2-2" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-2/" class="astro-rvq5mvj3">Diesel 2.2.2</a> </h2> <time datetime="2024-07-19T11:27:38.000Z" class="astro-rvq5mvj3">Jul 19, 2024</time>  <ul>
<li>Support for libsqlite3-sys 0.29.0</li>
<li>Fixed a potential panic in the sqlite cursor implementation</li>
<li>Fixed support for rust numeric operators with columns of the type <code>Numeric</code></li>
<li>Removed the <code>SerializedDatabase::new</code> function due to unsoundness</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github.</p>
<p>Full Changelog: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.1...v2.2.2" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.1â€¦v2.2.2</a></p>  <h2 id="diesel-2-2-3" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-3/" class="astro-rvq5mvj3">Diesel 2.2.3</a> </h2> <time datetime="2024-08-23T08:25:27.000Z" class="astro-rvq5mvj3">Aug 23, 2024</time>  <ul>
<li>Support for libsqlite3-sys 0.30.0</li>
<li>Fixed a possible vulnerability in how Diesel handled protocol level bind parameters.
See the <a href="http://web.archive.org/web/20240812130923/https://media.defcon.org/DEF%20CON%2032/DEF%20CON%2032%20presentations/DEF%20CON%2032%20-%20Paul%20Gerste%20-%20SQL%20Injection%20Isn&#x27;t%20Dead%20Smuggling%20Queries%20at%20the%20Protocol%20Level.pdf%3E" rel="nofollow noopener noreferrer" target="_blank">SQL Injection isnâ€™t Dead: Smuggling Queries at Protocol Level</a> presentation from DEF CON for details</li>
<li>Fixed an issue with a possibly ambiguous trait resolution in <code>#[derive(QueryableByName)]</code></li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github.</p>
<p>Full Changelog: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.2...v2.2.3" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.2â€¦v2.2.3</a></p>  <h2 id="diesel-2-2-4" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-4/" class="astro-rvq5mvj3">Diesel 2.2.4</a> </h2> <time datetime="2024-09-03T14:30:51.000Z" class="astro-rvq5mvj3">Sep 3, 2024</time>  <h3 id="fixed">Fixed</h3>
<ul>
<li>Fix an issue where empty queries could trigger undefined behaviour in the sqlite backend</li>
</ul>  <h2 id="diesel-2-2-5" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-5/" class="astro-rvq5mvj3">Diesel 2.2.5</a> </h2> <time datetime="2024-11-21T10:33:55.000Z" class="astro-rvq5mvj3">Nov 21, 2024</time>  <ul>
<li>Add a typedef for <code>Returning</code> and <code>Count</code> so that <code>#[auto_type]</code> works with such queries</li>
<li>Fixed an issue that allowed to pass non-boolean expressions to <code>.and()</code> and <code>.or()</code> which would
result in queries failing at runtime</li>
<li>Officially deprecating the gitter room</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github.</p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.4...v2.2.5" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.4â€¦v2.2.5</a></p>  <h2 id="diesel-2-2-6" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-6/" class="astro-rvq5mvj3">Diesel 2.2.6</a> </h2> <time datetime="2024-12-03T18:15:25.000Z" class="astro-rvq5mvj3">Dec 3, 2024</time>  <h2 id="whats-changed">Whatâ€™s Changed</h2>
<ul>
<li>Remove more mentions of gitter from the documentation</li>
</ul>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.5...v2.2.6" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.5â€¦v2.2.6</a></p>  <h2 id="diesel-2-2-7" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-7/" class="astro-rvq5mvj3">Diesel 2.2.7</a> </h2> <time datetime="2025-01-31T10:19:17.000Z" class="astro-rvq5mvj3">Jan 31, 2025</time>  <h3 id="fixed">Fixed</h3>
<ul>
<li>Fixed diesel thinking <code>a.eq_any(b)</code> was non-nullable even if <code>a</code> and <code>b</code> were nullable.</li>
<li>Generate <code>InstrumentationEvent::BeginTransaction</code> for immediate and exclusive transactions in SQLite</li>
<li>Minimize the amount of duplicated code generated for <code>diesel::debug_query</code></li>
<li>Updated <code>ipnetwork</code> to allow version 0.21.</li>
<li>Updated <code>libsqlite3-sys</code> to allow version 0.31.0</li>
<li>Updated <code>pq-sys</code> to allow version 0.7.0</li>
<li>Add support for numeric operators (+-*/) in <code>#[diesel::auto_type]</code></li>
<li>Add support for joins to sub-jons to aliases</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github</p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.6...v2.2.7" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.6â€¦v2.2.7</a></p>  <h2 id="diesel-2-2-8" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-8/" class="astro-rvq5mvj3">Diesel 2.2.8</a> </h2> <time datetime="2025-03-03T17:47:32.000Z" class="astro-rvq5mvj3">Mar 3, 2025</time>  <h3 id="fixed">Fixed</h3>
<ul>
<li>Allow <code>#[diesel(check_for_backend(_))]</code> to check fields with <code>#[diesel(embed)]</code> annotations</li>
<li>Improve custom compile error message around <code>CompatibleType</code></li>
<li>Fix a bug that restricted the number of allowed columns in <code>COPY FROM</code> statements to 12</li>
<li>Expose some SqliteValue helper functions</li>
<li>Use consistent whitespace in <code>ASC</code>/<code>DESC</code>, <code>DISTINCT ON</code>, and <code>DELETE FROM</code> clauses</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github</p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.7...v2.2.8" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.7â€¦v2.2.8</a></p>  <h2 id="diesel-2-2-9" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-9/" class="astro-rvq5mvj3">Diesel 2.2.9</a> </h2> <time datetime="2025-04-04T11:29:52.000Z" class="astro-rvq5mvj3">Apr 4, 2025</time>  <h1 id="fixed">Fixed</h1>
<ul>
<li>Fix an issue where <code>diesel migration generate --diff-schema</code> incorrectly uses the primary key of table B as the referenced column rather than the primary key of table A when B has a foreign key pointing to table A.</li>
<li>Bump maximal supported libsqlite3-sys version to 0.32.0 and add explicit feature entries for the <code>uuid</code> and <code>serde_json</code> feature.</li>
<li>Fixed an issue where diesel generated unnamed prepared statements would fail with an <code>unanmed prepared statement not found</code> error with pgbouncer.</li>
<li>Fix an issue with converting <code>ipnet::Ipnet</code> values with an subnet to SQL values</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github</p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.8...v2.2.9" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.8â€¦v2.2.9</a></p>  <h2 id="diesel-2-2-10" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-10/" class="astro-rvq5mvj3">Diesel 2.2.10</a> </h2> <time datetime="2025-04-25T06:43:32.000Z" class="astro-rvq5mvj3">Apr 25, 2025</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Support for libsqlite3-sys 0.33.0</li>
<li>Fixed potential ambiguities in code generated by various derives</li>
</ul>
<p>You can support the development of diesel by contributions or by sponsoring the project on Github</p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.9...v2.2.10" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.9â€¦v2.2.10</a></p>  <h2 id="diesel-2-2-11" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-11/" class="astro-rvq5mvj3">Diesel 2.2.11</a> </h2> <time datetime="2025-06-18T15:18:26.000Z" class="astro-rvq5mvj3">Jun 18, 2025</time>  <h2 id="whats-changed">Whatâ€™s Changed</h2>
<ul>
<li>Disallow mixing aggregate and non-aggregate expressions in <code>DISTINCT ON</code> clauses</li>
<li>Fixed an item referenced by a non-absolute path in <code>#[derive(MultiConnection)]</code></li>
<li>Improved compiler errors in some cases</li>
<li>Improved the documentation for creating SqliteConnections for concurrent applications</li>
</ul>
<p>You can support the development of Diesel by contributions or by sponsoring the project on Github</p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.10...v2.2.11" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.10â€¦v2.2.11</a></p>  <h2 id="diesel-2-2-12" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-2-12/" class="astro-rvq5mvj3">Diesel 2.2.12</a> </h2> <time datetime="2025-07-11T12:28:38.000Z" class="astro-rvq5mvj3">Jul 11, 2025</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Added support for libsqlite3-sys 0.35.0</li>
<li>Fixed a wrong oid for the <code>oid[]</code> type in the PostgreSQL backend</li>
<li>Worked around an issue with broken nullable detection with certain versions of libmysqlclient shipped by ubuntu</li>
<li>Improved compiler errors in many more cases</li>
</ul>
<p>You can support the development of Diesel by contributions or by sponsoring the project on GitHub</p>
<h2 id="call-for-input">Call for Input</h2>
<p>We are looking for input on a newly designed derive to make constructing queries easier. See <a href="https://github.com/diesel-rs/diesel/pull/4600" rel="nofollow noopener noreferrer" target="_blank">here</a> for details.</p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.11...v2.2.12" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.11â€¦v2.2.12</a></p>  <h2 id="diesel-2-3-0" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-3-0/" class="astro-rvq5mvj3">Diesel 2.3.0</a> </h2> <time datetime="2025-09-12T12:42:57.000Z" class="astro-rvq5mvj3">Sep 12, 2025</time>  <p>This release includes a several large extensions to the query DSL provided by Diesel and also helps increases the number of platforms you can use Diesel on out of the box. Notable changes include:</p>
<ul>
<li>Improved query construction via <code>#[derive(HasQuery)]</code></li>
<li>Added support for window functions</li>
<li>Using SQLite with WASM in your browser</li>
<li>Extended support for various types, functions and operators in the PostgreSQL backend</li>
<li>Support for <code>JSON</code> and <code>JSONB</code> in the SQLite backend</li>
</ul>
<p>See the <a href="https://diesel.rs/news/2_3_0_release.html" rel="nofollow noopener noreferrer" target="_blank">release blog for the full announcement</a></p>
<p>You can support the development of Diesel by:</p>
<ul>
<li>Contributing Code, Documentation or Guides. Checkout the planing for <a href="https://github.com/orgs/diesel-rs/projects/1" rel="nofollow noopener noreferrer" target="_blank">Diesel 2.4</a> for open tasks.</li>
<li>Providing knowledge and help to maintain the MySQL/MariaDB backend. This is currently the only in-tree backend that is not used by any maintainers, so having someone around that actually uses this backend would be very helpful for the Diesel project.</li>
<li>Answering questions in our <a href="https://github.com/diesel-rs/diesel/discussions" rel="nofollow noopener noreferrer" target="_blank">discussion forum</a></li>
<li>Reporting bugs in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li>Helping triaging issues in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li><a href="https://github.com/weiznich" rel="nofollow noopener noreferrer" target="_blank">Sponsoring</a> the maintainers.</li>
</ul>
<h3 id="added">Added</h3>
<ul>
<li>Added <code>limit()</code> and <code>offset()</code> DSL to combination clauses such as <code>UNION</code></li>
<li>Fixed <code>#[derive(Identifiable)]</code> ignoring attribute <code>#[diesel(serialize_as)]</code> on primary keys</li>
<li>Added embedded struct support for <code>AsChangeset</code> via <code>#[diesel(embed)]</code></li>
<li>Added a <code>#[diesel(skip_update)]</code> attribute for the <code>AsChangeset</code> derive to skip updating a field present in the struct</li>
<li>Support for libsqlite3-sys 0.35.0</li>
<li>Add support for built-in PostgreSQL range operators and functions</li>
<li>Support for postgres multirange type</li>
<li>Added <code>diesel::r2d2::TestCustomizer</code>, which allows users to customize their <code>diesel::r2d2::Pool</code>s
in a way that makes the pools suitable for use in parallel tests.</li>
<li>Added support for built-in PostgreSQL range operators and functions</li>
<li>Added support for various built-in PostgreSQL array functions</li>
<li>Added <code>Json</code> and <code>Jsonb</code> support for the SQLite backend.</li>
<li>Added a <code>#[diesel::declare_sql_function]</code> attribute macro to easily define support for
multiple sql functions at once via an <code>extern "SQL"</code> block</li>
<li>Support <code>[print_schema] allow_tables_to_appear_in_same_query_config = "fk_related_tables"</code> to generate separate <code>allow_tables_to_appear_in_same_query!</code> calls containing only tables that are related through foreign keys. (Default: <code>"all_tables"</code>.) It is not possible to build queries using two tables that donâ€™t appear in the same <code>allow_tables_to_appear_in_same_query!</code> call, but that macro generates O(nÂ²) rust code, so this option may be useful to reduce compilation time. (<a href="https://github.com/diesel-rs/diesel/issues/4333" rel="nofollow noopener noreferrer" target="_blank">#4333</a>)</li>
<li>Added <code>wasm32-unknown-unknown</code> target support for sqlite backend.</li>
<li>Add support for the <code>CAST</code> operator</li>
<li>Support <code>[print_schema] allow_tables_to_appear_in_same_query_config = "none"</code> to generate no <code>allow_tables_to_appear_in_same_query!</code> calls. (Default: <code>"all_tables"</code>.). (<a href="https://github.com/diesel-rs/diesel/issues/4333" rel="nofollow noopener noreferrer" target="_blank">#4333</a>)</li>
<li>Add <code>[print_schema] pg_domains_as_custom_types</code> parameter to generate custom types for <a href="https://www.postgresql.org/docs/current/domains.html" rel="nofollow noopener noreferrer" target="_blank">PostgreSQL domains</a> that matches any of the regexes in the given list. (Default: <code>[]</code>.) This option allows an application to selectively give special meaning for the serialization/deserialization of these types, avoiding the default behavior of treating the domain as the underlying type. (<a href="https://github.com/diesel-rs/diesel/discussions/4592" rel="nofollow noopener noreferrer" target="_blank">#4592</a>)</li>
<li>Add support for batch insert and upsert statements with returning for SQLite</li>
<li>Add support for window functions and aggregate expressions.</li>
</ul>
<h3 id="fixed">Fixed</h3>
<ul>
<li>Fixed diesel thinking <code>a.eq_any(b)</code> was non-nullable even if <code>a</code> and <code>b</code> were nullable.</li>
<li>Generate <code>InstrumentationEvent::BeginTransaction</code> for immediate and exclusive transactions in SQLite</li>
<li>Use a single space instead of two spaces between <code>DELETE FROM</code>.</li>
<li>Diesel CLI now ensures that migration versions are always unique. If it fails to generate a unique version, it will return an error. The new version format remains compatible with older Diesel versions.</li>
<li>Updated <code>ipnetwork</code> to allow version 0.21.</li>
</ul>
<h3 id="changed">Changed</h3>
<ul>
<li>Use distinct <code>DIESEL_LOG</code> logging filter env variable instead of the default <code>RUST_LOG</code> one (#4575)</li>
<li>The minimal supported Rust version is now 1.86.0</li>
</ul>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.2.0...v2.3.0" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.2.0â€¦v2.3.0</a></p>  <h2 id="diesel-2-3-2" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-3-2/" class="astro-rvq5mvj3">Diesel 2.3.2</a> </h2> <time datetime="2025-09-19T09:18:32.000Z" class="astro-rvq5mvj3">Sep 19, 2025</time>  <h3 id="fixed">Fixed</h3>
<ul>
<li>Fixed an incompatibility with libmariadb versions shipped by debian</li>
<li>Fixed docs.rs builds</li>
<li>Fixed applying patch file schema.rs file with formatting</li>
<li>Allow to compare DatabaseErrorKind values</li>
</ul>
<p>(Diesel 2.3.1 did not contain any changes beside the version bump to retrigger the docs.rs build)</p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.3.0...v2.3.2" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.3.0â€¦v2.3.2</a></p>
<p>You can support the development of Diesel by:</p>
<ul>
<li>Contributing Code, Documentation or Guides. Checkout the planing for <a href="https://github.com/orgs/diesel-rs/projects/1" rel="nofollow noopener noreferrer" target="_blank">Diesel 2.4</a> for open tasks.</li>
<li>Providing knowledge and help to maintain the MySQL/MariaDB backend. This is currently the only in-tree backend that is not used by any maintainers, so having someone around that actually uses this backend would be very helpful for the Diesel project.</li>
<li>Answering questions in our <a href="https://github.com/diesel-rs/diesel/discussions" rel="nofollow noopener noreferrer" target="_blank">discussion forum</a></li>
<li>Reporting bugs in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li>Helping triaging issues in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li><a href="https://github.com/weiznich" rel="nofollow noopener noreferrer" target="_blank">Sponsoring</a> the maintainers.</li>
</ul>  <h2 id="diesel-2-3-3" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-3-3/" class="astro-rvq5mvj3">Diesel 2.3.3</a> </h2> <time datetime="2025-10-24T13:57:15.000Z" class="astro-rvq5mvj3">Oct 24, 2025</time>  <h3 id="fixed">Fixed</h3>
<ul>
<li>Fix displaying binds in instrumentations for <code>#[derive(MultiConnection)]</code></li>
<li>Support artifact attestation for binaries build for releases</li>
<li>Stop using absolute paths in generated diesel.toml</li>
<li>Explicitly qualify <code>Ok</code> in code generated by derives to avoid naming conflicts</li>
</ul>
<p>Starting with Diesel-CLI 2.3.3 you can verify that you downloaded the correct binaries via <a href="https://docs.github.com/en/actions/how-tos/secure-your-work/use-artifact-attestations/use-artifact-attestations#verifying-artifact-attestations-with-the-github-cli" rel="nofollow noopener noreferrer" target="_blank">GitHubâ€™s artifact attestation</a></p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.0vx5m.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">gh attestation verify diesel_cli-x86_64-unknown-linux-gnu.tar.xz -R diesel-rs/diesel</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="gh attestation verify diesel_cli-x86_64-unknown-linux-gnu.tar.xz -R diesel-rs/diesel"><div></div></button></div></figure></div>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.3.2...v2.3.3" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.3.2â€¦v2.3.3</a></p>
<p>You can support the development of Diesel by:</p>
<ul>
<li>Contributing Code, Documentation or Guides. Checkout the planing for <a href="https://github.com/orgs/diesel-rs/projects/1" rel="nofollow noopener noreferrer" target="_blank">Diesel 2.4</a> for open tasks.</li>
<li>Providing knowledge and help to maintain the MySQL/MariaDB backend. This is currently the only in-tree backend that is not used by any maintainers, so having someone around that actually uses this backend would be very helpful for the Diesel project.</li>
<li>Answering questions in our <a href="https://github.com/diesel-rs/diesel/discussions" rel="nofollow noopener noreferrer" target="_blank">discussion forum</a></li>
<li>Reporting bugs in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li>Helping triaging issues in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li><a href="https://github.com/weiznich" rel="nofollow noopener noreferrer" target="_blank">Sponsoring</a> the maintainers.</li>
</ul>  <h2 id="diesel-2-3-4" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-3-4/" class="astro-rvq5mvj3">Diesel 2.3.4</a> </h2> <time datetime="2025-11-26T16:29:31.000Z" class="astro-rvq5mvj3">Nov 26, 2025</time>  <h2 id="fixed">Fixed</h2>
<ul>
<li>Fix an issue with breaking changes in libmariadb</li>
<li>Fix documentation links for helper types</li>
<li>Fix using <code>#[diesel(embed)]</code> with <code>Option&#x3C;Inner></code> types</li>
<li>Fix documentation for concurrent migration runs</li>
</ul>
<p>You can support the development of Diesel by:</p>
<ul>
<li>Contributing Code, Documentation or Guides. Checkout the planing for <a href="https://github.com/orgs/diesel-rs/projects/1" rel="nofollow noopener noreferrer" target="_blank">Diesel 2.4</a> for open tasks.</li>
<li>Providing knowledge and help to maintain the MySQL/MariaDB backend. This is currently the only in-tree backend that is not used by any maintainers, so having someone around that actually uses this backend would be very helpful for the Diesel project.</li>
<li>Answering questions in our <a href="https://github.com/diesel-rs/diesel/discussions" rel="nofollow noopener noreferrer" target="_blank">discussion forum</a></li>
<li>Reporting bugs in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li>Helping triaging issues in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li><a href="https://github.com/weiznich" rel="nofollow noopener noreferrer" target="_blank">Sponsoring</a> the maintainers.</li>
</ul>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.3.3...v2.3.4" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.3.3â€¦v2.3.4</a></p>  <h2 id="diesel-2-3-5" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-3-5/" class="astro-rvq5mvj3">Diesel 2.3.5</a> </h2> <time datetime="2025-12-19T07:31:24.000Z" class="astro-rvq5mvj3">Dec 19, 2025</time>  <h1 id="fixes">Fixes</h1>
<ul>
<li>Fix another libmariadb related issue with time types</li>
<li>Improve compile time error messages for <code>#[derive(Insertable)]</code></li>
<li>Bump supported version of sqlite-wasm-rs to 0.5.0</li>
<li>Minor documentation fixes</li>
<li>Make the <code>returning_clauses_for_sqlite_3_35</code> feature enable the <code>sqlite</code> feature by default</li>
<li>Include a fix for a nightly rust name resolution ambiguity</li>
</ul>
<p>You can support the development of Diesel by:</p>
<ul>
<li>Contributing Code, Documentation or Guides. Checkout the planing for <a href="https://github.com/orgs/diesel-rs/projects/1" rel="nofollow noopener noreferrer" target="_blank">Diesel 2.4</a> for open tasks.</li>
<li>Providing knowledge and help to maintain the MySQL/MariaDB backend. This is currently the only in-tree backend that is not used by any maintainers, so having someone around that actually uses this backend would be very helpful for the Diesel project.</li>
<li>Answering questions in our <a href="https://github.com/diesel-rs/diesel/discussions" rel="nofollow noopener noreferrer" target="_blank">discussion forum</a></li>
<li>Reporting bugs in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li>Helping triaging issues in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li><a href="https://github.com/weiznich" rel="nofollow noopener noreferrer" target="_blank">Sponsoring</a> the maintainers.</li>
</ul>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.3.4...v2.3.5" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.3.4â€¦v2.3.5</a></p>  <h2 id="diesel-2-3-6" class="astro-rvq5mvj3"> <a href="/changelog/version/diesel-2-3-6/" class="astro-rvq5mvj3">Diesel 2.3.6</a> <span class="sl-badge note small astro-rvq5mvj3 astro-avdet4wd">Latest</span>  </h2> <time datetime="2026-01-23T07:57:29.000Z" class="astro-rvq5mvj3">Jan 23, 2026</time>  <h1 id="fixed">Fixed</h1>
<ul>
<li>Added support for mysqlclient-sys 0.5.0</li>
<li>Fix generating valid schema if a column is named <code>table</code></li>
<li>Fixed a regression with <code>#[derive(Insertable)]</code> if the same field type is used with different lifetime values</li>
</ul>
<p>You can support the development of Diesel by:</p>
<ul>
<li>Contributing Code, Documentation or Guides. Checkout the planing for <a href="https://github.com/orgs/diesel-rs/projects/1" rel="nofollow noopener noreferrer" target="_blank">Diesel 2.4</a> for open tasks.</li>
<li>Providing knowledge and help to maintain the MySQL/MariaDB backend. This is currently the only in-tree backend that is not used by any maintainers, so having someone around that actually uses this backend would be very helpful for the Diesel project.</li>
<li>Answering questions in our <a href="https://github.com/diesel-rs/diesel/discussions" rel="nofollow noopener noreferrer" target="_blank">discussion forum</a></li>
<li>Reporting bugs in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li>Helping triaging issues in our <a href="https://github.com/diesel-rs/diesel/issues" rel="nofollow noopener noreferrer" target="_blank">issue tracker</a></li>
<li><a href="https://github.com/weiznich" rel="nofollow noopener noreferrer" target="_blank">Sponsoring</a> the maintainers.</li>
</ul>
<p><strong>Full Changelog</strong>: <a href="https://github.com/diesel-rs/diesel/compare/v2.3.5...v2.3.6" rel="nofollow noopener noreferrer" target="_blank">https://github.com/diesel-rs/diesel/compare/v2.3.5â€¦v2.3.6</a></p>  </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links print:hidden astro-u2l5gyhi" dir="ltr"> <a href="/changelog/version/1-3-2...latest/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg> <span class="astro-u2l5gyhi"> Previous <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">1.3.2</span> </span> </a> <a href="/changelog/version/1-2-0...latest/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg> <span class="astro-u2l5gyhi"> Next <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">1.2.0</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>